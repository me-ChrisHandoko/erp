[36mStarting API server...[0m
2026/01/03 21:07:19 Starting ERP Backend Server (Environment: development)

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[6.417ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND table_type = 'BASE TABLE'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[0.314ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[34.670ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[1.859ms] [34;1m[rows:-][0m SELECT * FROM "refresh_tokens" LIMIT 5

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[11.631ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'refresh_tokens' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[9.844ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'refresh_tokens'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[1.074ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'refresh_tokens'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[20.199ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[1.884ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[2.145ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'token_hash') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[1.955ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'device_info') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[2.527ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'ip_address') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[2.106ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'user_agent') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[0.391ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'is_revoked') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[0.372ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'revoked_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[0.420ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'expires_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[0.411ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[0.342ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'refresh_tokens' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'refresh_tokens' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[4.388ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'refresh_tokens' AND indexname = 'idx_refresh_tokens_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[0.833ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'refresh_tokens' AND indexname = 'idx_refresh_tokens_token_hash' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[0.879ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'refresh_tokens' AND indexname = 'idx_refresh_tokens_expires_at' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[0.790ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'email_verifications' AND table_type = 'BASE TABLE'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[0.162ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[7.276ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'email_verifications'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[0.773ms] [34;1m[rows:-][0m SELECT * FROM "email_verifications" LIMIT 5

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[25.398ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'email_verifications' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[8.228ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'email_verifications'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[0.582ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'email_verifications'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[0.410ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'email_verifications' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'email_verifications' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[0.430ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'email_verifications' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'email_verifications' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[0.394ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'email_verifications' AND column_name = 'email') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'email_verifications' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[0.335ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'email_verifications' AND column_name = 'token') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'email_verifications' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[0.345ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'email_verifications' AND column_name = 'is_used') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'email_verifications' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[0.385ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'email_verifications' AND column_name = 'used_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'email_verifications' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[0.450ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'email_verifications' AND column_name = 'expires_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'email_verifications' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[0.360ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'email_verifications' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'email_verifications' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[0.351ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'email_verifications' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'email_verifications' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[0.818ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'email_verifications' AND indexname = 'idx_email_verifications_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[0.760ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'email_verifications' AND indexname = 'idx_email_verifications_token' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[0.965ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'email_verifications' AND indexname = 'idx_email_verifications_expires_at' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[0.675ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'password_resets' AND table_type = 'BASE TABLE'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[0.152ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[5.373ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'password_resets'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[1.767ms] [34;1m[rows:-][0m SELECT * FROM "password_resets" LIMIT 5

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[24.906ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'password_resets' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[8.085ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'password_resets'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[0.519ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'password_resets'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[0.377ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'password_resets' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'password_resets' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[0.342ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'password_resets' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'password_resets' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[0.321ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'password_resets' AND column_name = 'token') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'password_resets' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[0.290ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'password_resets' AND column_name = 'ip_address') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'password_resets' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[0.265ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'password_resets' AND column_name = 'user_agent') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'password_resets' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[0.281ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'password_resets' AND column_name = 'expires_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'password_resets' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[0.283ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'password_resets' AND column_name = 'used_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'password_resets' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[0.239ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'password_resets' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'password_resets' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[0.177ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'password_resets' AND indexname = 'idx_password_resets_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[0.153ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'password_resets' AND indexname = 'idx_password_resets_token' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[0.526ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'login_attempts' AND table_type = 'BASE TABLE'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[0.147ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[6.693ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'login_attempts'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[0.884ms] [34;1m[rows:-][0m SELECT * FROM "login_attempts" LIMIT 5

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[24.807ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'login_attempts' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[7.657ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'login_attempts'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[0.577ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'login_attempts'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[0.371ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'login_attempts' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'login_attempts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[0.366ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'login_attempts' AND column_name = 'email') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'login_attempts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[0.472ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'login_attempts' AND column_name = 'ip_address') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'login_attempts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[0.314ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'login_attempts' AND column_name = 'user_agent') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'login_attempts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[0.291ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'login_attempts' AND column_name = 'is_success') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'login_attempts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[0.289ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'login_attempts' AND column_name = 'failure_reason') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'login_attempts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[0.268ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'login_attempts' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'login_attempts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[0.288ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'login_attempts' AND column_name = 'unlocked_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'login_attempts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[0.280ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'login_attempts' AND column_name = 'unlocked_by') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'login_attempts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[0.266ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'login_attempts' AND column_name = 'unlock_reason') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'login_attempts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[0.181ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'login_attempts' AND indexname = 'idx_login_attempts_email' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[0.203ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'login_attempts' AND indexname = 'idx_login_attempts_ip_address' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[0.173ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'login_attempts' AND indexname = 'idx_login_attempts_attempted_at' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:122
[0m[33m[0.184ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'login_attempts' AND indexname = 'idx_login_attempts_unlocked_at' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.754ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.102ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[6.558ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[2.154ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[25.142ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[8.302ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.619ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.466ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.348ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'email') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.320ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'username') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.346ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'password') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.342ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.312ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'is_system_admin') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.301ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'is_active') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.363ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.454ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.251ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_email' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.236ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_username' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.636ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND table_type = 'BASE TABLE'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.128ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[7.332ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[1.636ms] [34;1m[rows:-][0m SELECT * FROM "subscriptions" LIMIT 5

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[27.236ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'subscriptions' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[9.484ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'subscriptions'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.672ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'subscriptions'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.592ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.429ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'price') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.324ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'billing_cycle') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.405ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.343ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'current_period_start') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.437ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'current_period_end') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.338ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'next_billing_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.279ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'payment_method') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.353ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'last_payment_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.312ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'last_payment_amount') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.370ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'grace_period_ends') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.316ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'auto_renew') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.316ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'cancelled_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.336ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'cancellation_reason') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.294ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.361ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.206ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'subscriptions' AND indexname = 'idx_subscriptions_status' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.200ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'subscriptions' AND indexname = 'idx_subscriptions_next_billing_date' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.233ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'subscriptions' AND indexname = 'idx_subscriptions_grace_period_ends' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.230ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tenants' AND table_type = 'BASE TABLE'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.125ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[1.512ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'tenants'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.873ms] [34;1m[rows:-][0m SELECT * FROM "tenants" LIMIT 5

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[3.656ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'tenants' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[3.699ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'tenants'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.236ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'tenants'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.359ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tenants' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tenants' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.345ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tenants' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tenants' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.353ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tenants' AND column_name = 'subdomain') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tenants' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[17.259ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tenants' AND column_name = 'subscription_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tenants' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.495ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tenants' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tenants' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.393ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tenants' AND column_name = 'trial_ends_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tenants' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.442ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tenants' AND column_name = 'notes') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tenants' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.484ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tenants' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tenants' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.379ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tenants' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tenants' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[1.755ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tenants' AND constraint_name = 'fk_subscriptions_tenants'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.254ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'tenants' AND indexname = 'idx_tenants_subdomain' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.245ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'tenants' AND indexname = 'idx_tenants_subscription_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.224ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'tenants' AND indexname = 'idx_tenants_status' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.192ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND table_type = 'BASE TABLE'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.141ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[4.870ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'companies'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[1.424ms] [34;1m[rows:-][0m SELECT * FROM "companies" LIMIT 5

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[41.895ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'companies' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[27.227ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'companies'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[16.697ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'companies'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.703ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.652ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'tenant_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.462ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.486ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'legal_name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.434ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'entity_type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.422ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'address') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.377ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'city') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.332ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'province') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.324ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'postal_code') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.325ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'country') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.310ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'phone') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.309ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'email') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.279ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'website') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.271ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'npwp') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.343ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'nib') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.347ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'is_pkp') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.332ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'ppn_rate') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.308ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'faktur_pajak_series') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.306ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'sppkp_number') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.311ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'logo_url') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.291ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'primary_color') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.279ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'secondary_color') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.268ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'invoice_prefix') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.408ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'invoice_number_format') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.286ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'invoice_footer') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.278ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'invoice_terms') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.259ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'so_prefix') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.257ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'so_number_format') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.266ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'po_prefix') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.251ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'po_number_format') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.278ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'currency') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.300ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'timezone') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.266ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'locale') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.273ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'business_hours_start') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.258ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'business_hours_end') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.265ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'working_days') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.256ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'is_active') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.204ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.222ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.988ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND constraint_name = 'fk_tenants_companies'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.929ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND constraint_name = 'chk_companies_entity_type'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.201ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'companies' AND indexname = 'idx_company_tenant' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.227ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'companies' AND indexname = 'idx_tenant_company' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.161ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'companies' AND indexname = 'idx_companies_npwp' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.161ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'companies' AND indexname = 'idx_company_active' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.144ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'company_banks' AND table_type = 'BASE TABLE'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.091ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[1.578ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'company_banks'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[1.759ms] [34;1m[rows:-][0m SELECT * FROM "company_banks" LIMIT 5

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[1.832ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'company_banks' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[1.503ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'company_banks'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.154ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'company_banks'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.264ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'company_banks' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'company_banks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.223ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'company_banks' AND column_name = 'company_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'company_banks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.220ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'company_banks' AND column_name = 'bank_name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'company_banks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.218ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'company_banks' AND column_name = 'account_number') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'company_banks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.251ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'company_banks' AND column_name = 'account_name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'company_banks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.252ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'company_banks' AND column_name = 'branch_name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'company_banks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.240ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'company_banks' AND column_name = 'is_primary') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'company_banks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.240ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'company_banks' AND column_name = 'check_prefix') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'company_banks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.220ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'company_banks' AND column_name = 'is_active') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'company_banks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.211ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'company_banks' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'company_banks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.205ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'company_banks' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'company_banks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.905ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'company_banks' AND constraint_name = 'fk_companies_banks'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.186ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'company_banks' AND indexname = 'idx_company_banks_company_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.152ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'company_banks' AND indexname = 'idx_company_banks_is_primary' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.165ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscription_payments' AND table_type = 'BASE TABLE'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.098ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[1.678ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'subscription_payments'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[17.793ms] [34;1m[rows:-][0m SELECT * FROM "subscription_payments" LIMIT 5

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[2.393ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'subscription_payments' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[1.492ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'subscription_payments'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.205ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'subscription_payments'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.370ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscription_payments' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscription_payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.281ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscription_payments' AND column_name = 'subscription_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscription_payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.289ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscription_payments' AND column_name = 'amount') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscription_payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.320ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscription_payments' AND column_name = 'payment_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscription_payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.274ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscription_payments' AND column_name = 'payment_method') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscription_payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.258ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscription_payments' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscription_payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.257ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscription_payments' AND column_name = 'reference') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscription_payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.222ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscription_payments' AND column_name = 'invoice_number') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscription_payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.212ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscription_payments' AND column_name = 'period_start') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscription_payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.249ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscription_payments' AND column_name = 'period_end') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscription_payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.227ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscription_payments' AND column_name = 'paid_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscription_payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.249ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscription_payments' AND column_name = 'notes') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscription_payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.224ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscription_payments' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscription_payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.184ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscription_payments' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscription_payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.826ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscription_payments' AND constraint_name = 'fk_subscriptions_payments'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.135ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'subscription_payments' AND indexname = 'idx_subscription_payments_subscription_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.123ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'subscription_payments' AND indexname = 'idx_subscription_payments_payment_date' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.114ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'subscription_payments' AND indexname = 'idx_subscription_payments_status' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.155ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'subscription_payments' AND indexname = 'idx_subscription_payments_invoice_number' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.149ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'subscription_payments' AND indexname = 'idx_subscription_payments_paid_at' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.132ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_tenants' AND table_type = 'BASE TABLE'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.093ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[1.038ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'user_tenants'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[1.020ms] [34;1m[rows:-][0m SELECT * FROM "user_tenants" LIMIT 5

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.783ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'user_tenants' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.817ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'user_tenants'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.126ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'user_tenants'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.206ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_tenants' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_tenants' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.187ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_tenants' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_tenants' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.180ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_tenants' AND column_name = 'tenant_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_tenants' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.176ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_tenants' AND column_name = 'role') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_tenants' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.173ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_tenants' AND column_name = 'is_active') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_tenants' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.216ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_tenants' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_tenants' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.190ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_tenants' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_tenants' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.852ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_tenants' AND constraint_name = 'fk_tenants_users'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.222ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_tenants' AND constraint_name = 'fk_users_tenants'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.168ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'user_tenants' AND indexname = 'idx_user_tenants_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.141ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'user_tenants' AND indexname = 'idx_user_tenant' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.145ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'user_tenants' AND indexname = 'idx_user_tenants_tenant_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:15
[0m[33m[0.168ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'user_tenants' AND indexname = 'idx_user_tenants_role' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.158ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND table_type = 'BASE TABLE'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.095ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[1.478ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.213ms] [34;1m[rows:-][0m SELECT * FROM "subscriptions" LIMIT 5

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[1.832ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'subscriptions' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[1.854ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'subscriptions'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.137ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'subscriptions'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.210ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.185ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'price') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.212ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'billing_cycle') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.206ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.190ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'current_period_start') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.185ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'current_period_end') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.183ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'next_billing_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.186ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'payment_method') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.179ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'last_payment_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.175ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'last_payment_amount') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.174ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'grace_period_ends') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.170ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'auto_renew') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.171ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'cancelled_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.171ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'cancellation_reason') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.172ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.171ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.135ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'subscriptions' AND indexname = 'idx_subscriptions_status' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.115ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'subscriptions' AND indexname = 'idx_subscriptions_next_billing_date' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.112ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'subscriptions' AND indexname = 'idx_subscriptions_grace_period_ends' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.126ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tenants' AND table_type = 'BASE TABLE'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.085ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[1.099ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'tenants'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.154ms] [34;1m[rows:-][0m SELECT * FROM "tenants" LIMIT 5

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[21.171ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'tenants' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[4.533ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'tenants'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.286ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'tenants'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.436ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tenants' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tenants' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.407ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tenants' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tenants' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.361ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tenants' AND column_name = 'subdomain') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tenants' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.341ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tenants' AND column_name = 'subscription_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tenants' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.310ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tenants' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tenants' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.312ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tenants' AND column_name = 'trial_ends_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tenants' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.329ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tenants' AND column_name = 'notes') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tenants' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.323ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tenants' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tenants' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.299ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tenants' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tenants' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.298ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tenants' AND constraint_name = 'fk_subscriptions_tenants'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.162ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'tenants' AND indexname = 'idx_tenants_subdomain' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.139ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'tenants' AND indexname = 'idx_tenants_subscription_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.156ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'tenants' AND indexname = 'idx_tenants_status' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.162ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND table_type = 'BASE TABLE'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.113ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[3.788ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'companies'

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.323ms] [34;1m[rows:-][0m SELECT * FROM "companies" LIMIT 5

2026/01/03 21:07:19 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[43.180ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'companies' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[40.873ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'companies'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.349ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'companies'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.560ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.418ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'tenant_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.325ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.453ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'legal_name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.354ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'entity_type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.372ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'address') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.307ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'city') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.330ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'province') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.288ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'postal_code') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.331ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'country') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.325ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'phone') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.354ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'email') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.274ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'website') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.307ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'npwp') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.304ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'nib') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.281ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'is_pkp') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.338ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'ppn_rate') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.275ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'faktur_pajak_series') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.554ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'sppkp_number') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.441ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'logo_url') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.236ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'primary_color') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.245ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'secondary_color') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.237ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'invoice_prefix') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.214ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'invoice_number_format') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.207ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'invoice_footer') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.205ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'invoice_terms') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.202ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'so_prefix') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.199ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'so_number_format') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.199ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'po_prefix') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.198ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'po_number_format') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.197ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'currency') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.192ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'timezone') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.297ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'locale') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.259ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'business_hours_start') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.287ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'business_hours_end') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.232ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'working_days') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.244ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'is_active') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.303ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.257ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.273ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND constraint_name = 'fk_tenants_companies'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.231ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND constraint_name = 'chk_companies_entity_type'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.239ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'companies' AND indexname = 'idx_company_tenant' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.173ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'companies' AND indexname = 'idx_tenant_company' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.201ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'companies' AND indexname = 'idx_companies_npwp' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.148ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'companies' AND indexname = 'idx_company_active' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.145ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'customers' AND table_type = 'BASE TABLE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.097ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[3.142ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'customers'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[2.003ms] [34;1m[rows:-][0m SELECT * FROM "customers" LIMIT 5

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[4.937ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'customers' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[23.207ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'customers'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.276ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'customers'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.369ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'customers' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'customers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.355ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'customers' AND column_name = 'tenant_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'customers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.542ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'customers' AND column_name = 'company_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'customers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.339ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'customers' AND column_name = 'code') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'customers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.300ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'customers' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'customers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.440ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'customers' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'customers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.321ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'customers' AND column_name = 'phone') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'customers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.335ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'customers' AND column_name = 'email') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'customers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.312ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'customers' AND column_name = 'address') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'customers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.352ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'customers' AND column_name = 'city') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'customers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.314ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'customers' AND column_name = 'province') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'customers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.276ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'customers' AND column_name = 'postal_code') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'customers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.283ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'customers' AND column_name = 'npwp') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'customers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.264ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'customers' AND column_name = 'is_pkp') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'customers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.254ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'customers' AND column_name = 'contact_person') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'customers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.244ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'customers' AND column_name = 'contact_phone') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'customers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.207ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'customers' AND column_name = 'payment_term') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'customers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.216ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'customers' AND column_name = 'credit_limit') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'customers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.254ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'customers' AND column_name = 'current_outstanding') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'customers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.225ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'customers' AND column_name = 'overdue_amount') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'customers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.220ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'customers' AND column_name = 'last_transaction_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'customers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.270ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'customers' AND column_name = 'notes') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'customers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.233ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'customers' AND column_name = 'is_active') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'customers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.220ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'customers' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'customers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.216ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'customers' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'customers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.227ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'customers' AND constraint_name = 'fk_customers_tenant'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.278ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'customers' AND constraint_name = 'fk_customers_company'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.184ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'customers' AND indexname = 'idx_customers_tenant_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.157ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'customers' AND indexname = 'idx_company_customer' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.142ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'customers' AND indexname = 'idx_company_customer_code' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.137ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'customers' AND indexname = 'idx_customers_code' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.147ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'customers' AND indexname = 'idx_customers_name' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.145ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'customers' AND indexname = 'idx_customers_current_outstanding' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.136ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'customers' AND indexname = 'idx_customers_overdue_amount' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.162ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers' AND table_type = 'BASE TABLE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.105ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[2.435ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[1.649ms] [34;1m[rows:-][0m SELECT * FROM "suppliers" LIMIT 5

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[4.322ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'suppliers' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[4.583ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'suppliers'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.292ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'suppliers'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.459ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.315ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers' AND column_name = 'tenant_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.353ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers' AND column_name = 'company_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.343ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers' AND column_name = 'code') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.311ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.333ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.350ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers' AND column_name = 'phone') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.339ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers' AND column_name = 'email') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[17.054ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers' AND column_name = 'address') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.566ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers' AND column_name = 'city') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.511ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers' AND column_name = 'province') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.485ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers' AND column_name = 'postal_code') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.472ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers' AND column_name = 'npwp') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.347ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers' AND column_name = 'is_pkp') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.407ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers' AND column_name = 'contact_person') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.349ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers' AND column_name = 'contact_phone') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.333ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers' AND column_name = 'payment_term') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.592ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers' AND column_name = 'credit_limit') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.333ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers' AND column_name = 'current_outstanding') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.316ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers' AND column_name = 'overdue_amount') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.342ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers' AND column_name = 'last_transaction_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.310ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers' AND column_name = 'notes') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.276ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers' AND column_name = 'is_active') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.262ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.258ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.281ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers' AND constraint_name = 'fk_suppliers_tenant'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.252ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers' AND constraint_name = 'fk_suppliers_company'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.214ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'suppliers' AND indexname = 'idx_suppliers_tenant_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.178ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'suppliers' AND indexname = 'idx_company_supplier' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.166ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'suppliers' AND indexname = 'idx_company_supplier_code' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.185ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'suppliers' AND indexname = 'idx_suppliers_code' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.224ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'suppliers' AND indexname = 'idx_suppliers_name' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.203ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'suppliers' AND indexname = 'idx_suppliers_current_outstanding' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.176ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'suppliers' AND indexname = 'idx_suppliers_overdue_amount' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.181ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.118ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[1.224ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.178ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[1.940ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[2.097ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.206ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.338ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.329ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'email') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.333ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'username') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.286ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'password') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.288ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.336ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'is_system_admin') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.303ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'is_active') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.278ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.226ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.165ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_email' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.160ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_username' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.143ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND table_type = 'BASE TABLE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.107ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[1.790ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[1.046ms] [34;1m[rows:-][0m SELECT * FROM "warehouses" LIMIT 5

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[4.399ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'warehouses' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[21.765ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'warehouses'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.546ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'warehouses'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.748ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouses' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.694ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND column_name = 'tenant_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouses' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.648ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND column_name = 'company_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouses' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.424ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND column_name = 'code') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouses' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.368ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouses' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.431ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouses' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.422ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND column_name = 'address') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouses' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.419ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND column_name = 'city') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouses' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.415ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND column_name = 'province') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouses' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.424ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND column_name = 'postal_code') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouses' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.395ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND column_name = 'phone') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouses' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.343ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND column_name = 'email') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouses' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.329ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND column_name = 'manager_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouses' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.342ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND column_name = 'capacity') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouses' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.317ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND column_name = 'is_active') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouses' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.325ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouses' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.321ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouses' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.342ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND constraint_name = 'fk_warehouses_tenant'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.266ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND constraint_name = 'fk_warehouses_company'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.272ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND constraint_name = 'fk_warehouses_manager'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.213ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'warehouses' AND indexname = 'idx_warehouses_tenant_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.211ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'warehouses' AND indexname = 'idx_company_warehouse' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.180ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'warehouses' AND indexname = 'idx_company_warehouse_code' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.170ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'warehouses' AND indexname = 'idx_warehouses_code' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.200ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'warehouses' AND indexname = 'idx_warehouses_type' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.176ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'warehouses' AND indexname = 'idx_warehouses_manager_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.177ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND table_type = 'BASE TABLE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.120ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[2.591ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'products'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[2.361ms] [34;1m[rows:-][0m SELECT * FROM "products" LIMIT 5

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[7.240ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'products' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[6.668ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'products'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.282ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'products'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.439ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'products' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[17.227ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND column_name = 'tenant_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'products' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.768ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND column_name = 'company_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'products' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.709ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND column_name = 'code') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'products' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.674ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'products' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.699ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND column_name = 'category') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'products' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.700ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND column_name = 'base_unit') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'products' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.566ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND column_name = 'base_cost') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'products' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.428ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND column_name = 'base_price') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'products' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.395ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND column_name = 'current_stock') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'products' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.391ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND column_name = 'minimum_stock') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'products' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.387ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND column_name = 'description') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'products' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.384ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND column_name = 'barcode') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'products' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.310ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND column_name = 'is_batch_tracked') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'products' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.314ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND column_name = 'is_perishable') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'products' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.296ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND column_name = 'is_active') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'products' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.348ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'products' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.314ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'products' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.302ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND constraint_name = 'fk_products_tenant'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.254ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND constraint_name = 'fk_products_company'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.195ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'products' AND indexname = 'idx_products_tenant_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.170ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'products' AND indexname = 'idx_company_product' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.165ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'products' AND indexname = 'idx_company_product_code' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.162ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'products' AND indexname = 'idx_products_code' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.160ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'products' AND indexname = 'idx_products_name' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.164ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'products' AND indexname = 'idx_products_barcode' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.158ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'products' AND indexname = 'idx_products_is_batch_tracked' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.167ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_units' AND table_type = 'BASE TABLE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.113ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[1.772ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'product_units'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.602ms] [34;1m[rows:-][0m SELECT * FROM "product_units" LIMIT 5

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[2.581ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'product_units' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[2.141ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'product_units'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.138ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'product_units'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.229ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_units' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_units' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.260ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_units' AND column_name = 'product_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_units' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.220ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_units' AND column_name = 'unit_name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_units' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.263ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_units' AND column_name = 'conversion_rate') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_units' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.250ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_units' AND column_name = 'is_base_unit') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_units' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.226ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_units' AND column_name = 'buy_price') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_units' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.192ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_units' AND column_name = 'sell_price') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_units' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.185ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_units' AND column_name = 'barcode') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_units' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.213ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_units' AND column_name = 'sku') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_units' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.212ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_units' AND column_name = 'weight') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_units' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.208ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_units' AND column_name = 'volume') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_units' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.196ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_units' AND column_name = 'description') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_units' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.179ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_units' AND column_name = 'is_active') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_units' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.179ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_units' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_units' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.178ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_units' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_units' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.206ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_units' AND constraint_name = 'fk_products_units'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.151ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'product_units' AND indexname = 'idx_product_units_product_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.134ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'product_units' AND indexname = 'idx_product_unit' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.117ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'product_units' AND indexname = 'idx_product_units_barcode' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.120ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'price_list' AND table_type = 'BASE TABLE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.071ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[1.127ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'price_list'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[2.711ms] [34;1m[rows:-][0m SELECT * FROM "price_list" LIMIT 5

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[1.028ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'price_list' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.996ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'price_list'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.131ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'price_list'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.205ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'price_list' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'price_list' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.186ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'price_list' AND column_name = 'product_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'price_list' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.212ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'price_list' AND column_name = 'customer_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'price_list' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.234ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'price_list' AND column_name = 'price') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'price_list' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.202ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'price_list' AND column_name = 'min_qty') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'price_list' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.183ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'price_list' AND column_name = 'effective_from') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'price_list' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.175ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'price_list' AND column_name = 'effective_to') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'price_list' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[16.878ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'price_list' AND column_name = 'is_active') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'price_list' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.282ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'price_list' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'price_list' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.274ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'price_list' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'price_list' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.299ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'price_list' AND constraint_name = 'fk_products_price_list'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.297ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'price_list' AND indexname = 'idx_product_customer' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.179ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_suppliers' AND table_type = 'BASE TABLE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.114ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[1.849ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'product_suppliers'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.722ms] [34;1m[rows:-][0m SELECT * FROM "product_suppliers" LIMIT 5

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[1.035ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'product_suppliers' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.939ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'product_suppliers'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.134ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'product_suppliers'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.235ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_suppliers' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.208ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_suppliers' AND column_name = 'product_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.185ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_suppliers' AND column_name = 'supplier_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.182ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_suppliers' AND column_name = 'supplier_price') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.208ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_suppliers' AND column_name = 'lead_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.211ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_suppliers' AND column_name = 'is_primary') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.196ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_suppliers' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.183ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_suppliers' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.191ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_suppliers' AND constraint_name = 'fk_products_product_suppliers'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.211ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_suppliers' AND constraint_name = 'fk_suppliers_product_suppliers'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.160ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'product_suppliers' AND indexname = 'idx_product_supplier' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.155ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouse_stocks' AND table_type = 'BASE TABLE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.083ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[1.252ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'warehouse_stocks'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.609ms] [34;1m[rows:-][0m SELECT * FROM "warehouse_stocks" LIMIT 5

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[1.223ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'warehouse_stocks' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[1.177ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'warehouse_stocks'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.130ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'warehouse_stocks'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.248ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouse_stocks' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouse_stocks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.217ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouse_stocks' AND column_name = 'warehouse_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouse_stocks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.224ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouse_stocks' AND column_name = 'product_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouse_stocks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.189ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouse_stocks' AND column_name = 'quantity') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouse_stocks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.178ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouse_stocks' AND column_name = 'minimum_stock') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouse_stocks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.204ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouse_stocks' AND column_name = 'maximum_stock') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouse_stocks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.212ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouse_stocks' AND column_name = 'location') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouse_stocks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.193ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouse_stocks' AND column_name = 'last_count_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouse_stocks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.180ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouse_stocks' AND column_name = 'last_count_qty') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouse_stocks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.205ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouse_stocks' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouse_stocks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.181ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouse_stocks' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouse_stocks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.183ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouse_stocks' AND constraint_name = 'fk_products_warehouse_stocks'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.160ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouse_stocks' AND constraint_name = 'fk_warehouses_stocks'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.147ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'warehouse_stocks' AND indexname = 'idx_warehouse_stocks_warehouse_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.122ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'warehouse_stocks' AND indexname = 'idx_warehouse_product' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.116ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'warehouse_stocks' AND indexname = 'idx_warehouse_stocks_product_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.151ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'warehouse_stocks' AND indexname = 'idx_warehouse_stocks_quantity' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.278ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches' AND table_type = 'BASE TABLE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.096ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[1.504ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[1.030ms] [34;1m[rows:-][0m SELECT * FROM "product_batches" LIMIT 5

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[2.309ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'product_batches' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[2.309ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'product_batches'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.151ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'product_batches'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.236ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_batches' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.240ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches' AND column_name = 'batch_number') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_batches' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.212ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches' AND column_name = 'product_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_batches' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.213ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches' AND column_name = 'warehouse_stock_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_batches' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.194ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches' AND column_name = 'manufacture_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_batches' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.218ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches' AND column_name = 'expiry_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_batches' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.202ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches' AND column_name = 'quantity') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_batches' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.200ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches' AND column_name = 'supplier_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_batches' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.274ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches' AND column_name = 'goods_receipt_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_batches' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.257ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches' AND column_name = 'receipt_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_batches' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.283ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_batches' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.207ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches' AND column_name = 'quality_status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_batches' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.223ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches' AND column_name = 'reference_number') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_batches' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.186ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches' AND column_name = 'notes') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_batches' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.199ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_batches' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.217ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_batches' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.196ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches' AND constraint_name = 'fk_products_batches'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.180ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches' AND constraint_name = 'fk_warehouse_stocks_batches'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.155ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'product_batches' AND indexname = 'idx_batch_product' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.130ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'product_batches' AND indexname = 'idx_product_batches_product_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.150ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'product_batches' AND indexname = 'idx_product_batches_warehouse_stock_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.123ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'product_batches' AND indexname = 'idx_product_batches_expiry_date' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.132ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'product_batches' AND indexname = 'idx_product_batches_goods_receipt_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:35
[0m[33m[0.120ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'product_batches' AND indexname = 'idx_product_batches_status' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[15.222ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND table_type = 'BASE TABLE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.122ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[1.487ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.203ms] [34;1m[rows:-][0m SELECT * FROM "subscriptions" LIMIT 5

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[1.874ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'subscriptions' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[1.891ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'subscriptions'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.176ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'subscriptions'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.241ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.235ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'price') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.196ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'billing_cycle') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.221ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.243ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'current_period_start') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.196ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'current_period_end') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.182ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'next_billing_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.188ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'payment_method') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.215ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'last_payment_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.203ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'last_payment_amount') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.182ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'grace_period_ends') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.179ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'auto_renew') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.206ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'cancelled_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.201ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'cancellation_reason') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.189ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.186ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.174ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'subscriptions' AND indexname = 'idx_subscriptions_status' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.194ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'subscriptions' AND indexname = 'idx_subscriptions_next_billing_date' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.130ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'subscriptions' AND indexname = 'idx_subscriptions_grace_period_ends' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.146ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tenants' AND table_type = 'BASE TABLE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.086ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[1.217ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'tenants'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.154ms] [34;1m[rows:-][0m SELECT * FROM "tenants" LIMIT 5

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[2.426ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'tenants' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[2.420ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'tenants'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.123ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'tenants'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.264ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tenants' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tenants' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.180ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tenants' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tenants' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.167ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tenants' AND column_name = 'subdomain') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tenants' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.163ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tenants' AND column_name = 'subscription_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tenants' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.164ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tenants' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tenants' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.154ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tenants' AND column_name = 'trial_ends_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tenants' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.151ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tenants' AND column_name = 'notes') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tenants' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.181ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tenants' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tenants' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.166ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tenants' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tenants' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.171ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tenants' AND constraint_name = 'fk_subscriptions_tenants'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.128ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'tenants' AND indexname = 'idx_tenants_subdomain' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.113ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'tenants' AND indexname = 'idx_tenants_subscription_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.108ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'tenants' AND indexname = 'idx_tenants_status' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.104ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND table_type = 'BASE TABLE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.069ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[2.481ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'companies'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.189ms] [34;1m[rows:-][0m SELECT * FROM "companies" LIMIT 5

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[38.831ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'companies' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[37.998ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'companies'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.272ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'companies'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.324ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.397ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'tenant_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.319ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.271ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'legal_name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.268ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'entity_type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.253ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'address') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.292ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'city') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.267ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'province') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.280ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'postal_code') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.272ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'country') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.245ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'phone') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.220ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'email') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.221ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'website') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.283ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'npwp') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.297ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'nib') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.270ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'is_pkp') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.207ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'ppn_rate') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.190ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'faktur_pajak_series') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.180ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'sppkp_number') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.181ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'logo_url') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.179ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'primary_color') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.179ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'secondary_color') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.176ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'invoice_prefix') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.212ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'invoice_number_format') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.193ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'invoice_footer') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.185ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'invoice_terms') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.208ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'so_prefix') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.291ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'so_number_format') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.275ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'po_prefix') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.216ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'po_number_format') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.188ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'currency') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.186ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'timezone') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.215ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'locale') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.210ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'business_hours_start') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.188ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'business_hours_end') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.189ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'working_days') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.188ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'is_active') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.179ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.213ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.215ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND constraint_name = 'fk_tenants_companies'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.201ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND constraint_name = 'chk_companies_entity_type'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.131ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'companies' AND indexname = 'idx_company_tenant' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.119ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'companies' AND indexname = 'idx_tenant_company' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.149ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'companies' AND indexname = 'idx_companies_npwp' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.139ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'companies' AND indexname = 'idx_company_active' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.129ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'customers' AND table_type = 'BASE TABLE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.083ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[1.994ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'customers'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.207ms] [34;1m[rows:-][0m SELECT * FROM "customers" LIMIT 5

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[3.905ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'customers' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[3.866ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'customers'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.220ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'customers'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.228ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'customers' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'customers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.224ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'customers' AND column_name = 'tenant_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'customers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.203ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'customers' AND column_name = 'company_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'customers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.212ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'customers' AND column_name = 'code') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'customers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.196ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'customers' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'customers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.184ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'customers' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'customers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.222ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'customers' AND column_name = 'phone') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'customers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.214ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'customers' AND column_name = 'email') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'customers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.210ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'customers' AND column_name = 'address') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'customers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.187ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'customers' AND column_name = 'city') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'customers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.182ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'customers' AND column_name = 'province') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'customers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.208ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'customers' AND column_name = 'postal_code') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'customers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.198ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'customers' AND column_name = 'npwp') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'customers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.199ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'customers' AND column_name = 'is_pkp') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'customers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.185ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'customers' AND column_name = 'contact_person') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'customers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.216ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'customers' AND column_name = 'contact_phone') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'customers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.189ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'customers' AND column_name = 'payment_term') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'customers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.183ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'customers' AND column_name = 'credit_limit') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'customers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.217ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'customers' AND column_name = 'current_outstanding') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'customers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.195ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'customers' AND column_name = 'overdue_amount') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'customers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.202ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'customers' AND column_name = 'last_transaction_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'customers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.183ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'customers' AND column_name = 'notes') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'customers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.177ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'customers' AND column_name = 'is_active') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'customers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.184ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'customers' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'customers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.178ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'customers' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'customers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.189ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'customers' AND constraint_name = 'fk_customers_tenant'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.187ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'customers' AND constraint_name = 'fk_customers_company'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.159ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'customers' AND indexname = 'idx_customers_tenant_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.128ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'customers' AND indexname = 'idx_company_customer' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.121ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'customers' AND indexname = 'idx_company_customer_code' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.114ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'customers' AND indexname = 'idx_customers_code' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.115ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'customers' AND indexname = 'idx_customers_name' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.111ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'customers' AND indexname = 'idx_customers_current_outstanding' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.115ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'customers' AND indexname = 'idx_customers_overdue_amount' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.192ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.087ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[18.208ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.271ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[1.933ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[1.858ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.194ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.299ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.267ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'email') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.255ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'username') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.253ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'password') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.260ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.344ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'is_system_admin') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.225ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'is_active') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.215ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.208ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.155ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_email' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.545ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_username' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.176ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'sales_orders' AND table_type = 'BASE TABLE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.117ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[2.228ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'sales_orders'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.911ms] [34;1m[rows:-][0m SELECT * FROM "sales_orders" LIMIT 5

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[3.785ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'sales_orders' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[3.677ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'sales_orders'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.198ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'sales_orders'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.286ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'sales_orders' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'sales_orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.253ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'sales_orders' AND column_name = 'tenant_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'sales_orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.241ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'sales_orders' AND column_name = 'company_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'sales_orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.215ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'sales_orders' AND column_name = 'so_number') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'sales_orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.210ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'sales_orders' AND column_name = 'so_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'sales_orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.255ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'sales_orders' AND column_name = 'customer_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'sales_orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.287ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'sales_orders' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'sales_orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.243ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'sales_orders' AND column_name = 'subtotal') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'sales_orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.254ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'sales_orders' AND column_name = 'discount_amount') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'sales_orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.265ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'sales_orders' AND column_name = 'tax_amount') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'sales_orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.237ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'sales_orders' AND column_name = 'total_amount') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'sales_orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.213ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'sales_orders' AND column_name = 'notes') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'sales_orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.254ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'sales_orders' AND column_name = 'delivery_address') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'sales_orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.252ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'sales_orders' AND column_name = 'delivery_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'sales_orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.233ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'sales_orders' AND column_name = 'salesperson_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'sales_orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.217ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'sales_orders' AND column_name = 'approved_by') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'sales_orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.220ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'sales_orders' AND column_name = 'approved_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'sales_orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.249ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'sales_orders' AND column_name = 'cancelled_by') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'sales_orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.205ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'sales_orders' AND column_name = 'cancelled_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'sales_orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.319ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'sales_orders' AND column_name = 'cancellation_note') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'sales_orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.232ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'sales_orders' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'sales_orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.241ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'sales_orders' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'sales_orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.239ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'sales_orders' AND constraint_name = 'fk_sales_orders_company'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.203ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'sales_orders' AND constraint_name = 'fk_sales_orders_customer'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.224ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'sales_orders' AND constraint_name = 'fk_sales_orders_salesperson'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.220ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'sales_orders' AND constraint_name = 'fk_sales_orders_tenant'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.132ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'sales_orders' AND indexname = 'idx_sales_orders_tenant_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.127ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'sales_orders' AND indexname = 'idx_company_sales_order' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.120ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'sales_orders' AND indexname = 'idx_company_so_number' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.114ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'sales_orders' AND indexname = 'idx_sales_orders_so_date' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.110ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'sales_orders' AND indexname = 'idx_sales_orders_customer_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.109ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'sales_orders' AND indexname = 'idx_sales_orders_status' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.110ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'sales_orders' AND indexname = 'idx_sales_orders_salesperson_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.118ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND table_type = 'BASE TABLE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.087ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[1.544ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'products'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.230ms] [34;1m[rows:-][0m SELECT * FROM "products" LIMIT 5

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[24.020ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'products' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[7.455ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'products'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.294ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'products'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.384ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'products' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.384ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND column_name = 'tenant_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'products' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.314ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND column_name = 'company_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'products' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.302ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND column_name = 'code') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'products' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.338ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'products' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.351ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND column_name = 'category') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'products' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.326ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND column_name = 'base_unit') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'products' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.355ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND column_name = 'base_cost') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'products' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.265ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND column_name = 'base_price') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'products' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.276ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND column_name = 'current_stock') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'products' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.238ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND column_name = 'minimum_stock') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'products' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.246ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND column_name = 'description') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'products' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.228ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND column_name = 'barcode') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'products' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.264ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND column_name = 'is_batch_tracked') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'products' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.252ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND column_name = 'is_perishable') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'products' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.280ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND column_name = 'is_active') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'products' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.255ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'products' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.247ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'products' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.232ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND constraint_name = 'fk_products_company'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.206ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND constraint_name = 'fk_products_tenant'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.147ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'products' AND indexname = 'idx_products_tenant_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.135ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'products' AND indexname = 'idx_company_product' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.130ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'products' AND indexname = 'idx_company_product_code' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.247ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'products' AND indexname = 'idx_products_code' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.163ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'products' AND indexname = 'idx_products_name' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.144ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'products' AND indexname = 'idx_products_barcode' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.140ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'products' AND indexname = 'idx_products_is_batch_tracked' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.130ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_units' AND table_type = 'BASE TABLE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.128ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[1.374ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'product_units'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.179ms] [34;1m[rows:-][0m SELECT * FROM "product_units" LIMIT 5

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[2.190ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'product_units' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[3.239ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'product_units'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.143ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'product_units'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.221ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_units' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_units' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.241ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_units' AND column_name = 'product_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_units' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.239ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_units' AND column_name = 'unit_name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_units' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.232ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_units' AND column_name = 'conversion_rate') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_units' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.218ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_units' AND column_name = 'is_base_unit') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_units' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.244ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_units' AND column_name = 'buy_price') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_units' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[17.236ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_units' AND column_name = 'sell_price') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_units' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.502ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_units' AND column_name = 'barcode') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_units' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.504ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_units' AND column_name = 'sku') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_units' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.441ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_units' AND column_name = 'weight') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_units' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.410ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_units' AND column_name = 'volume') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_units' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.425ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_units' AND column_name = 'description') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_units' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.432ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_units' AND column_name = 'is_active') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_units' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.428ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_units' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_units' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.397ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_units' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_units' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.374ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_units' AND constraint_name = 'fk_products_units'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.295ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'product_units' AND indexname = 'idx_product_units_product_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.225ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'product_units' AND indexname = 'idx_product_unit' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.193ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'product_units' AND indexname = 'idx_product_units_barcode' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.187ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'sales_order_items' AND table_type = 'BASE TABLE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.128ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[1.771ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'sales_order_items'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.697ms] [34;1m[rows:-][0m SELECT * FROM "sales_order_items" LIMIT 5

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[1.667ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'sales_order_items' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[2.048ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'sales_order_items'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.155ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'sales_order_items'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.236ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'sales_order_items' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'sales_order_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.216ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'sales_order_items' AND column_name = 'sales_order_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'sales_order_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.214ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'sales_order_items' AND column_name = 'product_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'sales_order_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.205ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'sales_order_items' AND column_name = 'product_unit_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'sales_order_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.204ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'sales_order_items' AND column_name = 'quantity') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'sales_order_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.286ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'sales_order_items' AND column_name = 'unit_price') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'sales_order_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.217ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'sales_order_items' AND column_name = 'discount_pct') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'sales_order_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.219ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'sales_order_items' AND column_name = 'discount_amt') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'sales_order_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.245ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'sales_order_items' AND column_name = 'subtotal') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'sales_order_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.261ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'sales_order_items' AND column_name = 'notes') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'sales_order_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.207ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'sales_order_items' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'sales_order_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.203ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'sales_order_items' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'sales_order_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.230ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'sales_order_items' AND constraint_name = 'fk_sales_order_items_product'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.224ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'sales_order_items' AND constraint_name = 'fk_sales_order_items_product_unit'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.252ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'sales_order_items' AND constraint_name = 'fk_sales_orders_items'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.162ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'sales_order_items' AND indexname = 'idx_sales_order_items_sales_order_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.136ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'sales_order_items' AND indexname = 'idx_sales_order_items_product_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.135ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'sales_order_items' AND indexname = 'idx_sales_order_items_product_unit_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.139ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND table_type = 'BASE TABLE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.103ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[1.664ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.227ms] [34;1m[rows:-][0m SELECT * FROM "warehouses" LIMIT 5

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[4.395ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'warehouses' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[5.289ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'warehouses'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.281ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'warehouses'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.421ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouses' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.392ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND column_name = 'tenant_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouses' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.431ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND column_name = 'company_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouses' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.399ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND column_name = 'code') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouses' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[16.919ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouses' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.448ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouses' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.401ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND column_name = 'address') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouses' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.443ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND column_name = 'city') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouses' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.423ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND column_name = 'province') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouses' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.345ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND column_name = 'postal_code') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouses' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.348ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND column_name = 'phone') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouses' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.346ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND column_name = 'email') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouses' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.310ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND column_name = 'manager_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouses' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.336ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND column_name = 'capacity') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouses' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.353ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND column_name = 'is_active') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouses' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.347ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouses' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.359ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouses' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.298ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND constraint_name = 'fk_warehouses_tenant'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.253ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND constraint_name = 'fk_warehouses_company'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.267ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND constraint_name = 'fk_warehouses_manager'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.191ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'warehouses' AND indexname = 'idx_warehouses_tenant_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.176ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'warehouses' AND indexname = 'idx_company_warehouse' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.162ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'warehouses' AND indexname = 'idx_company_warehouse_code' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.207ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'warehouses' AND indexname = 'idx_warehouses_code' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.166ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'warehouses' AND indexname = 'idx_warehouses_type' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.182ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'warehouses' AND indexname = 'idx_warehouses_manager_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.215ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'deliveries' AND table_type = 'BASE TABLE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.144ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[2.236ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'deliveries'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[1.373ms] [34;1m[rows:-][0m SELECT * FROM "deliveries" LIMIT 5

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[3.720ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'deliveries' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[3.856ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'deliveries'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.257ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'deliveries'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.364ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'deliveries' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'deliveries' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.276ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'deliveries' AND column_name = 'tenant_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'deliveries' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.270ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'deliveries' AND column_name = 'company_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'deliveries' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.257ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'deliveries' AND column_name = 'delivery_number') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'deliveries' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.265ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'deliveries' AND column_name = 'delivery_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'deliveries' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.221ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'deliveries' AND column_name = 'sales_order_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'deliveries' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.213ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'deliveries' AND column_name = 'warehouse_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'deliveries' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.219ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'deliveries' AND column_name = 'customer_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'deliveries' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.213ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'deliveries' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'deliveries' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.210ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'deliveries' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'deliveries' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.209ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'deliveries' AND column_name = 'delivery_address') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'deliveries' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.267ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'deliveries' AND column_name = 'driver_name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'deliveries' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.207ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'deliveries' AND column_name = 'vehicle_number') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'deliveries' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.257ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'deliveries' AND column_name = 'departure_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'deliveries' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.228ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'deliveries' AND column_name = 'arrival_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'deliveries' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.213ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'deliveries' AND column_name = 'received_by') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'deliveries' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.237ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'deliveries' AND column_name = 'received_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'deliveries' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.218ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'deliveries' AND column_name = 'signature_url') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'deliveries' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.209ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'deliveries' AND column_name = 'photo_url') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'deliveries' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.207ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'deliveries' AND column_name = 'ttnk_number') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'deliveries' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.209ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'deliveries' AND column_name = 'expedition_service') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'deliveries' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.209ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'deliveries' AND column_name = 'notes') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'deliveries' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.243ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'deliveries' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'deliveries' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.283ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'deliveries' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'deliveries' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.249ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'deliveries' AND constraint_name = 'fk_deliveries_tenant'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.232ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'deliveries' AND constraint_name = 'fk_deliveries_company'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.232ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'deliveries' AND constraint_name = 'fk_deliveries_sales_order'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.207ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'deliveries' AND constraint_name = 'fk_deliveries_warehouse'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.197ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'deliveries' AND constraint_name = 'fk_deliveries_customer'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.153ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'deliveries' AND indexname = 'idx_deliveries_tenant_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.135ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'deliveries' AND indexname = 'idx_company_delivery' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.131ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'deliveries' AND indexname = 'idx_company_delivery_number' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.131ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'deliveries' AND indexname = 'idx_deliveries_delivery_date' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.128ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'deliveries' AND indexname = 'idx_deliveries_sales_order_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.127ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'deliveries' AND indexname = 'idx_deliveries_warehouse_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.166ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'deliveries' AND indexname = 'idx_deliveries_customer_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.147ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'deliveries' AND indexname = 'idx_deliveries_type' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.121ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'deliveries' AND indexname = 'idx_deliveries_status' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.129ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouse_stocks' AND table_type = 'BASE TABLE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.091ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[1.183ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'warehouse_stocks'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.464ms] [34;1m[rows:-][0m SELECT * FROM "warehouse_stocks" LIMIT 5

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[18.993ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'warehouse_stocks' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[2.195ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'warehouse_stocks'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.275ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'warehouse_stocks'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.470ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouse_stocks' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouse_stocks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.461ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouse_stocks' AND column_name = 'warehouse_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouse_stocks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.430ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouse_stocks' AND column_name = 'product_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouse_stocks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.434ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouse_stocks' AND column_name = 'quantity') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouse_stocks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.456ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouse_stocks' AND column_name = 'minimum_stock') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouse_stocks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.421ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouse_stocks' AND column_name = 'maximum_stock') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouse_stocks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.400ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouse_stocks' AND column_name = 'location') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouse_stocks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.330ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouse_stocks' AND column_name = 'last_count_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouse_stocks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.319ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouse_stocks' AND column_name = 'last_count_qty') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouse_stocks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.323ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouse_stocks' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouse_stocks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.311ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouse_stocks' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouse_stocks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.309ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouse_stocks' AND constraint_name = 'fk_warehouses_stocks'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.254ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouse_stocks' AND constraint_name = 'fk_products_warehouse_stocks'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.192ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'warehouse_stocks' AND indexname = 'idx_warehouse_stocks_warehouse_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.208ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'warehouse_stocks' AND indexname = 'idx_warehouse_product' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.217ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'warehouse_stocks' AND indexname = 'idx_warehouse_stocks_product_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.272ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'warehouse_stocks' AND indexname = 'idx_warehouse_stocks_quantity' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.184ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches' AND table_type = 'BASE TABLE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.147ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[2.048ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.305ms] [34;1m[rows:-][0m SELECT * FROM "product_batches" LIMIT 5

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[3.908ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'product_batches' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[3.708ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'product_batches'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.208ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'product_batches'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.349ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_batches' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.318ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches' AND column_name = 'batch_number') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_batches' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.334ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches' AND column_name = 'product_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_batches' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.346ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches' AND column_name = 'warehouse_stock_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_batches' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.326ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches' AND column_name = 'manufacture_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_batches' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.283ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches' AND column_name = 'expiry_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_batches' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.314ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches' AND column_name = 'quantity') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_batches' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.311ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches' AND column_name = 'supplier_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_batches' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.279ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches' AND column_name = 'goods_receipt_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_batches' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.260ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches' AND column_name = 'receipt_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_batches' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.257ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_batches' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.316ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches' AND column_name = 'quality_status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_batches' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.280ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches' AND column_name = 'reference_number') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_batches' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.293ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches' AND column_name = 'notes') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_batches' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.270ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_batches' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.266ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_batches' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.326ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches' AND constraint_name = 'fk_warehouse_stocks_batches'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.250ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches' AND constraint_name = 'fk_products_batches'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.175ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'product_batches' AND indexname = 'idx_batch_product' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.164ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'product_batches' AND indexname = 'idx_product_batches_product_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.136ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'product_batches' AND indexname = 'idx_product_batches_warehouse_stock_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.159ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'product_batches' AND indexname = 'idx_product_batches_expiry_date' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.138ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'product_batches' AND indexname = 'idx_product_batches_goods_receipt_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.133ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'product_batches' AND indexname = 'idx_product_batches_status' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.165ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'delivery_items' AND table_type = 'BASE TABLE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.096ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[1.254ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'delivery_items'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[18.441ms] [34;1m[rows:-][0m SELECT * FROM "delivery_items" LIMIT 5

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[1.968ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'delivery_items' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[2.069ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'delivery_items'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.240ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'delivery_items'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.376ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'delivery_items' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'delivery_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.373ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'delivery_items' AND column_name = 'delivery_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'delivery_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.348ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'delivery_items' AND column_name = 'sales_order_item_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'delivery_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.326ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'delivery_items' AND column_name = 'product_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'delivery_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.305ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'delivery_items' AND column_name = 'product_unit_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'delivery_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.270ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'delivery_items' AND column_name = 'batch_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'delivery_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.304ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'delivery_items' AND column_name = 'quantity') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'delivery_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.291ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'delivery_items' AND column_name = 'notes') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'delivery_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.347ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'delivery_items' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'delivery_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.373ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'delivery_items' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'delivery_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.297ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'delivery_items' AND constraint_name = 'fk_delivery_items_sales_order_item'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.254ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'delivery_items' AND constraint_name = 'fk_delivery_items_product'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.238ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'delivery_items' AND constraint_name = 'fk_delivery_items_product_unit'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.243ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'delivery_items' AND constraint_name = 'fk_delivery_items_batch'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.287ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'delivery_items' AND constraint_name = 'fk_deliveries_items'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.214ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'delivery_items' AND indexname = 'idx_delivery_items_delivery_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.143ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'delivery_items' AND indexname = 'idx_delivery_items_sales_order_item_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.148ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'delivery_items' AND indexname = 'idx_delivery_items_product_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.140ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'delivery_items' AND indexname = 'idx_delivery_items_product_unit_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.135ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'delivery_items' AND indexname = 'idx_delivery_items_batch_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.166ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'invoices' AND table_type = 'BASE TABLE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.099ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[1.969ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'invoices'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[1.265ms] [34;1m[rows:-][0m SELECT * FROM "invoices" LIMIT 5

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[2.916ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'invoices' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[2.833ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'invoices'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.174ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'invoices'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.443ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'invoices' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'invoices' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.273ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'invoices' AND column_name = 'tenant_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'invoices' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.474ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'invoices' AND column_name = 'company_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'invoices' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.296ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'invoices' AND column_name = 'invoice_number') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'invoices' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.345ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'invoices' AND column_name = 'invoice_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'invoices' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.246ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'invoices' AND column_name = 'due_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'invoices' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.242ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'invoices' AND column_name = 'customer_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'invoices' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.209ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'invoices' AND column_name = 'sales_order_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'invoices' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.470ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'invoices' AND column_name = 'delivery_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'invoices' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.237ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'invoices' AND column_name = 'subtotal') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'invoices' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.191ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'invoices' AND column_name = 'discount_amount') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'invoices' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.182ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'invoices' AND column_name = 'tax_amount') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'invoices' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.178ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'invoices' AND column_name = 'total_amount') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'invoices' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.219ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'invoices' AND column_name = 'paid_amount') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'invoices' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.394ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'invoices' AND column_name = 'payment_status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'invoices' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.194ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'invoices' AND column_name = 'notes') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'invoices' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.182ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'invoices' AND column_name = 'faktur_pajak_no') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'invoices' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.187ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'invoices' AND column_name = 'faktur_pajak_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'invoices' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.173ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'invoices' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'invoices' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.176ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'invoices' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'invoices' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.195ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'invoices' AND constraint_name = 'fk_invoices_tenant'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.168ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'invoices' AND constraint_name = 'fk_invoices_company'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.160ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'invoices' AND constraint_name = 'fk_invoices_customer'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.230ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'invoices' AND constraint_name = 'fk_invoices_sales_order'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.158ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'invoices' AND constraint_name = 'fk_invoices_delivery'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.126ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'invoices' AND indexname = 'idx_invoices_tenant_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.116ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'invoices' AND indexname = 'idx_company_invoice' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.141ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'invoices' AND indexname = 'idx_company_invoice_number' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.113ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'invoices' AND indexname = 'idx_invoices_invoice_date' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.135ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'invoices' AND indexname = 'idx_invoices_due_date' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.120ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'invoices' AND indexname = 'idx_invoices_customer_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.145ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'invoices' AND indexname = 'idx_invoices_sales_order_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.141ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'invoices' AND indexname = 'idx_invoices_delivery_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.137ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'invoices' AND indexname = 'idx_invoices_paid_amount' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.143ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'invoices' AND indexname = 'idx_invoices_payment_status' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.144ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'invoices' AND indexname = 'idx_invoices_faktur_pajak_no' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.134ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'invoice_items' AND table_type = 'BASE TABLE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.078ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[18.866ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'invoice_items'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[1.343ms] [34;1m[rows:-][0m SELECT * FROM "invoice_items" LIMIT 5

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[2.061ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'invoice_items' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[1.880ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'invoice_items'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.355ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'invoice_items'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.349ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'invoice_items' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'invoice_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.360ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'invoice_items' AND column_name = 'invoice_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'invoice_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.363ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'invoice_items' AND column_name = 'sales_order_item_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'invoice_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.350ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'invoice_items' AND column_name = 'delivery_item_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'invoice_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.424ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'invoice_items' AND column_name = 'product_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'invoice_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.371ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'invoice_items' AND column_name = 'product_unit_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'invoice_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.359ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'invoice_items' AND column_name = 'quantity') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'invoice_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.313ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'invoice_items' AND column_name = 'unit_price') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'invoice_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.329ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'invoice_items' AND column_name = 'discount_pct') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'invoice_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.329ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'invoice_items' AND column_name = 'discount_amt') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'invoice_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.318ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'invoice_items' AND column_name = 'subtotal') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'invoice_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.293ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'invoice_items' AND column_name = 'notes') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'invoice_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.247ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'invoice_items' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'invoice_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.208ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'invoice_items' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'invoice_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.243ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'invoice_items' AND constraint_name = 'fk_invoices_items'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.207ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'invoice_items' AND constraint_name = 'fk_invoice_items_sales_order_item'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.192ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'invoice_items' AND constraint_name = 'fk_invoice_items_delivery_item'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.194ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'invoice_items' AND constraint_name = 'fk_invoice_items_product'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.228ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'invoice_items' AND constraint_name = 'fk_invoice_items_product_unit'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.159ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'invoice_items' AND indexname = 'idx_invoice_items_invoice_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.143ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'invoice_items' AND indexname = 'idx_invoice_items_sales_order_item_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.138ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'invoice_items' AND indexname = 'idx_invoice_items_delivery_item_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.131ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'invoice_items' AND indexname = 'idx_invoice_items_product_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.166ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'invoice_items' AND indexname = 'idx_invoice_items_product_unit_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.155ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'company_banks' AND table_type = 'BASE TABLE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.096ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[1.416ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'company_banks'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.220ms] [34;1m[rows:-][0m SELECT * FROM "company_banks" LIMIT 5

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[1.876ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'company_banks' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[1.579ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'company_banks'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.233ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'company_banks'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.367ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'company_banks' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'company_banks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.216ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'company_banks' AND column_name = 'company_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'company_banks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.210ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'company_banks' AND column_name = 'bank_name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'company_banks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.248ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'company_banks' AND column_name = 'account_number') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'company_banks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.223ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'company_banks' AND column_name = 'account_name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'company_banks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.212ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'company_banks' AND column_name = 'branch_name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'company_banks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.237ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'company_banks' AND column_name = 'is_primary') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'company_banks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.221ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'company_banks' AND column_name = 'check_prefix') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'company_banks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.206ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'company_banks' AND column_name = 'is_active') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'company_banks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.204ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'company_banks' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'company_banks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.205ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'company_banks' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'company_banks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.205ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'company_banks' AND constraint_name = 'fk_companies_banks'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.191ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'company_banks' AND indexname = 'idx_company_banks_company_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.214ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'company_banks' AND indexname = 'idx_company_banks_is_primary' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.160ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND table_type = 'BASE TABLE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.092ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[1.501ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'payments'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.919ms] [34;1m[rows:-][0m SELECT * FROM "payments" LIMIT 5

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[2.202ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'payments' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[2.608ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'payments'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[17.066ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'payments'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.809ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.702ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'tenant_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.741ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'payment_number') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.672ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'payment_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.655ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'customer_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.690ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'invoice_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.533ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'amount') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.436ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'payment_method') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.425ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'reference') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.441ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'bank_account_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.422ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'notes') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.342ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'received_by') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.298ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'received_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.321ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.266ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.301ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND constraint_name = 'fk_invoices_payments'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.258ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND constraint_name = 'fk_payments_tenant'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.241ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND constraint_name = 'fk_payments_customer'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.510ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payments' AND constraint_name = 'fk_payments_bank_account'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.261ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'payments' AND indexname = 'idx_payments_tenant_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.264ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'payments' AND indexname = 'idx_payments_payment_number' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.225ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'payments' AND indexname = 'idx_payments_payment_date' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.226ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'payments' AND indexname = 'idx_payments_customer_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.220ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'payments' AND indexname = 'idx_payments_invoice_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.186ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'payments' AND indexname = 'idx_payments_payment_method' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.207ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'payments' AND indexname = 'idx_payments_bank_account_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.142ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payment_checks' AND table_type = 'BASE TABLE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.108ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[1.692ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'payment_checks'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.759ms] [34;1m[rows:-][0m SELECT * FROM "payment_checks" LIMIT 5

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[1.691ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'payment_checks' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[1.710ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'payment_checks'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.222ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'payment_checks'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.404ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payment_checks' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payment_checks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.273ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payment_checks' AND column_name = 'payment_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payment_checks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.252ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payment_checks' AND column_name = 'check_number') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payment_checks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.225ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payment_checks' AND column_name = 'check_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payment_checks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.251ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payment_checks' AND column_name = 'due_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payment_checks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.219ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payment_checks' AND column_name = 'amount') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payment_checks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.193ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payment_checks' AND column_name = 'bank_name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payment_checks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.219ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payment_checks' AND column_name = 'account_name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payment_checks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.209ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payment_checks' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payment_checks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.206ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payment_checks' AND column_name = 'cleared_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payment_checks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.181ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payment_checks' AND column_name = 'bounced_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payment_checks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.178ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payment_checks' AND column_name = 'bounced_note') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payment_checks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.175ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payment_checks' AND column_name = 'notes') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payment_checks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.176ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payment_checks' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payment_checks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.175ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payment_checks' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'payment_checks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.192ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'payment_checks' AND constraint_name = 'fk_payments_checks'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.129ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'payment_checks' AND indexname = 'idx_payment_checks_payment_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.149ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'payment_checks' AND indexname = 'idx_payment_checks_check_number' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.111ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'payment_checks' AND indexname = 'idx_payment_checks_due_date' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.109ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'payment_checks' AND indexname = 'idx_payment_checks_status' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.143ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers' AND table_type = 'BASE TABLE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.098ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[2.512ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.203ms] [34;1m[rows:-][0m SELECT * FROM "suppliers" LIMIT 5

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[3.990ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'suppliers' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[21.109ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'suppliers'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.263ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'suppliers'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.340ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.316ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers' AND column_name = 'tenant_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.324ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers' AND column_name = 'company_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.322ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers' AND column_name = 'code') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.316ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.334ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.352ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers' AND column_name = 'phone') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.241ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers' AND column_name = 'email') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.252ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers' AND column_name = 'address') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.283ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers' AND column_name = 'city') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.258ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers' AND column_name = 'province') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.266ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers' AND column_name = 'postal_code') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.252ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers' AND column_name = 'npwp') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.239ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers' AND column_name = 'is_pkp') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.221ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers' AND column_name = 'contact_person') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.221ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers' AND column_name = 'contact_phone') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.213ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers' AND column_name = 'payment_term') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.286ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers' AND column_name = 'credit_limit') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.257ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers' AND column_name = 'current_outstanding') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.233ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers' AND column_name = 'overdue_amount') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.314ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers' AND column_name = 'last_transaction_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.230ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers' AND column_name = 'notes') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.254ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers' AND column_name = 'is_active') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.218ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.234ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'suppliers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.218ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers' AND constraint_name = 'fk_suppliers_tenant'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.227ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'suppliers' AND constraint_name = 'fk_suppliers_company'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.156ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'suppliers' AND indexname = 'idx_suppliers_tenant_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.177ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'suppliers' AND indexname = 'idx_company_supplier' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.138ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'suppliers' AND indexname = 'idx_company_supplier_code' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.155ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'suppliers' AND indexname = 'idx_suppliers_code' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.162ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'suppliers' AND indexname = 'idx_suppliers_name' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.137ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'suppliers' AND indexname = 'idx_suppliers_current_outstanding' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.139ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'suppliers' AND indexname = 'idx_suppliers_overdue_amount' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.163ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'purchase_orders' AND table_type = 'BASE TABLE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.118ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[1.775ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'purchase_orders'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.862ms] [34;1m[rows:-][0m SELECT * FROM "purchase_orders" LIMIT 5

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[2.938ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'purchase_orders' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[3.026ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'purchase_orders'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.173ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'purchase_orders'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.220ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'purchase_orders' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'purchase_orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.186ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'purchase_orders' AND column_name = 'tenant_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'purchase_orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.189ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'purchase_orders' AND column_name = 'company_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'purchase_orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.224ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'purchase_orders' AND column_name = 'po_number') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'purchase_orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.211ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'purchase_orders' AND column_name = 'po_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'purchase_orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.187ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'purchase_orders' AND column_name = 'supplier_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'purchase_orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.181ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'purchase_orders' AND column_name = 'warehouse_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'purchase_orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.193ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'purchase_orders' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'purchase_orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.204ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'purchase_orders' AND column_name = 'subtotal') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'purchase_orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.204ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'purchase_orders' AND column_name = 'discount_amount') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'purchase_orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.204ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'purchase_orders' AND column_name = 'tax_amount') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'purchase_orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.225ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'purchase_orders' AND column_name = 'total_amount') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'purchase_orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.187ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'purchase_orders' AND column_name = 'notes') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'purchase_orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.203ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'purchase_orders' AND column_name = 'expected_delivery_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'purchase_orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.206ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'purchase_orders' AND column_name = 'requested_by') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'purchase_orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.202ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'purchase_orders' AND column_name = 'approved_by') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'purchase_orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.195ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'purchase_orders' AND column_name = 'approved_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'purchase_orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.241ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'purchase_orders' AND column_name = 'cancelled_by') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'purchase_orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.225ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'purchase_orders' AND column_name = 'cancelled_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'purchase_orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.219ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'purchase_orders' AND column_name = 'cancellation_note') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'purchase_orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.221ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'purchase_orders' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'purchase_orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.221ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'purchase_orders' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'purchase_orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.212ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'purchase_orders' AND constraint_name = 'fk_purchase_orders_tenant'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.223ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'purchase_orders' AND constraint_name = 'fk_purchase_orders_company'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.196ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'purchase_orders' AND constraint_name = 'fk_purchase_orders_supplier'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.175ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'purchase_orders' AND constraint_name = 'fk_purchase_orders_warehouse'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.165ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'purchase_orders' AND constraint_name = 'fk_purchase_orders_requester'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.128ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'purchase_orders' AND indexname = 'idx_purchase_orders_tenant_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.116ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'purchase_orders' AND indexname = 'idx_company_purchase_order' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.143ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'purchase_orders' AND indexname = 'idx_company_po_number' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.139ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'purchase_orders' AND indexname = 'idx_purchase_orders_po_date' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.116ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'purchase_orders' AND indexname = 'idx_purchase_orders_supplier_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.126ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'purchase_orders' AND indexname = 'idx_purchase_orders_warehouse_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.138ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'purchase_orders' AND indexname = 'idx_purchase_orders_status' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.161ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'purchase_orders' AND indexname = 'idx_purchase_orders_requested_by' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.125ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'purchase_order_items' AND table_type = 'BASE TABLE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.089ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[18.723ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'purchase_order_items'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[1.066ms] [34;1m[rows:-][0m SELECT * FROM "purchase_order_items" LIMIT 5

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[1.799ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'purchase_order_items' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[1.721ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'purchase_order_items'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.200ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'purchase_order_items'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.288ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'purchase_order_items' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'purchase_order_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.241ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'purchase_order_items' AND column_name = 'purchase_order_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'purchase_order_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.210ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'purchase_order_items' AND column_name = 'product_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'purchase_order_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.227ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'purchase_order_items' AND column_name = 'product_unit_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'purchase_order_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.258ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'purchase_order_items' AND column_name = 'quantity') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'purchase_order_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.244ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'purchase_order_items' AND column_name = 'unit_price') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'purchase_order_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.211ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'purchase_order_items' AND column_name = 'discount_pct') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'purchase_order_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.212ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'purchase_order_items' AND column_name = 'discount_amt') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'purchase_order_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.214ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'purchase_order_items' AND column_name = 'subtotal') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'purchase_order_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.207ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'purchase_order_items' AND column_name = 'received_qty') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'purchase_order_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.201ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'purchase_order_items' AND column_name = 'notes') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'purchase_order_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.201ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'purchase_order_items' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'purchase_order_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.200ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'purchase_order_items' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'purchase_order_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.212ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'purchase_order_items' AND constraint_name = 'fk_purchase_order_items_product'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.229ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'purchase_order_items' AND constraint_name = 'fk_purchase_order_items_product_unit'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.188ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'purchase_order_items' AND constraint_name = 'fk_purchase_orders_items'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.157ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'purchase_order_items' AND indexname = 'idx_purchase_order_items_purchase_order_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.145ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'purchase_order_items' AND indexname = 'idx_purchase_order_items_product_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.171ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'purchase_order_items' AND indexname = 'idx_purchase_order_items_product_unit_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.184ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'goods_receipts' AND table_type = 'BASE TABLE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.113ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[1.702ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'goods_receipts'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[1.119ms] [34;1m[rows:-][0m SELECT * FROM "goods_receipts" LIMIT 5

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[2.122ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'goods_receipts' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[1.876ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'goods_receipts'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.268ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'goods_receipts'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.297ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'goods_receipts' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'goods_receipts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.214ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'goods_receipts' AND column_name = 'tenant_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'goods_receipts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.238ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'goods_receipts' AND column_name = 'company_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'goods_receipts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.197ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'goods_receipts' AND column_name = 'grn_number') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'goods_receipts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.219ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'goods_receipts' AND column_name = 'grn_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'goods_receipts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.192ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'goods_receipts' AND column_name = 'purchase_order_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'goods_receipts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.184ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'goods_receipts' AND column_name = 'warehouse_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'goods_receipts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.186ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'goods_receipts' AND column_name = 'supplier_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'goods_receipts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.185ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'goods_receipts' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'goods_receipts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.177ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'goods_receipts' AND column_name = 'received_by') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'goods_receipts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.177ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'goods_receipts' AND column_name = 'received_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'goods_receipts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.207ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'goods_receipts' AND column_name = 'inspected_by') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'goods_receipts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.189ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'goods_receipts' AND column_name = 'inspected_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'goods_receipts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.215ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'goods_receipts' AND column_name = 'supplier_invoice') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'goods_receipts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.189ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'goods_receipts' AND column_name = 'supplier_do_number') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'goods_receipts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.259ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'goods_receipts' AND column_name = 'notes') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'goods_receipts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.194ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'goods_receipts' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'goods_receipts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.182ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'goods_receipts' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'goods_receipts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.187ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'goods_receipts' AND constraint_name = 'fk_goods_receipts_purchase_order'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.202ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'goods_receipts' AND constraint_name = 'fk_goods_receipts_warehouse'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.177ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'goods_receipts' AND constraint_name = 'fk_goods_receipts_supplier'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.177ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'goods_receipts' AND constraint_name = 'fk_goods_receipts_tenant'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.186ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'goods_receipts' AND constraint_name = 'fk_goods_receipts_company'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.130ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'goods_receipts' AND indexname = 'idx_goods_receipts_tenant_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.129ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'goods_receipts' AND indexname = 'idx_company_goods_receipt' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.141ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'goods_receipts' AND indexname = 'idx_company_grn_number' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.128ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'goods_receipts' AND indexname = 'idx_goods_receipts_grn_date' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.126ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'goods_receipts' AND indexname = 'idx_goods_receipts_purchase_order_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.116ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'goods_receipts' AND indexname = 'idx_goods_receipts_warehouse_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.113ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'goods_receipts' AND indexname = 'idx_goods_receipts_supplier_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.111ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'goods_receipts' AND indexname = 'idx_goods_receipts_status' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.118ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'goods_receipt_items' AND table_type = 'BASE TABLE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.081ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[1.507ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'goods_receipt_items'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.755ms] [34;1m[rows:-][0m SELECT * FROM "goods_receipt_items" LIMIT 5

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[1.521ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'goods_receipt_items' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[18.374ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'goods_receipt_items'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.303ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'goods_receipt_items'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.458ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'goods_receipt_items' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'goods_receipt_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.361ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'goods_receipt_items' AND column_name = 'goods_receipt_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'goods_receipt_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.373ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'goods_receipt_items' AND column_name = 'purchase_order_item_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'goods_receipt_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.461ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'goods_receipt_items' AND column_name = 'product_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'goods_receipt_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.363ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'goods_receipt_items' AND column_name = 'product_unit_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'goods_receipt_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.342ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'goods_receipt_items' AND column_name = 'batch_number') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'goods_receipt_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.330ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'goods_receipt_items' AND column_name = 'manufacture_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'goods_receipt_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.279ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'goods_receipt_items' AND column_name = 'expiry_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'goods_receipt_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.312ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'goods_receipt_items' AND column_name = 'ordered_qty') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'goods_receipt_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.263ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'goods_receipt_items' AND column_name = 'received_qty') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'goods_receipt_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.269ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'goods_receipt_items' AND column_name = 'accepted_qty') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'goods_receipt_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.257ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'goods_receipt_items' AND column_name = 'rejected_qty') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'goods_receipt_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.259ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'goods_receipt_items' AND column_name = 'rejection_reason') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'goods_receipt_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.259ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'goods_receipt_items' AND column_name = 'quality_note') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'goods_receipt_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.343ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'goods_receipt_items' AND column_name = 'notes') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'goods_receipt_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.303ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'goods_receipt_items' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'goods_receipt_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.275ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'goods_receipt_items' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'goods_receipt_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.280ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'goods_receipt_items' AND constraint_name = 'fk_goods_receipt_items_purchase_order_item'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.297ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'goods_receipt_items' AND constraint_name = 'fk_goods_receipt_items_product'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.255ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'goods_receipt_items' AND constraint_name = 'fk_goods_receipt_items_product_unit'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.251ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'goods_receipt_items' AND constraint_name = 'fk_goods_receipts_items'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.237ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'goods_receipt_items' AND indexname = 'idx_goods_receipt_items_goods_receipt_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.190ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'goods_receipt_items' AND indexname = 'idx_goods_receipt_items_purchase_order_item_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.140ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'goods_receipt_items' AND indexname = 'idx_goods_receipt_items_product_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.137ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'goods_receipt_items' AND indexname = 'idx_goods_receipt_items_product_unit_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.208ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'goods_receipt_items' AND indexname = 'idx_goods_receipt_items_batch_number' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.139ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'goods_receipt_items' AND indexname = 'idx_goods_receipt_items_expiry_date' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.147ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'supplier_payments' AND table_type = 'BASE TABLE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.095ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[1.607ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'supplier_payments'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[1.041ms] [34;1m[rows:-][0m SELECT * FROM "supplier_payments" LIMIT 5

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[1.699ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'supplier_payments' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[2.063ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'supplier_payments'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.243ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'supplier_payments'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.293ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'supplier_payments' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'supplier_payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.250ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'supplier_payments' AND column_name = 'tenant_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'supplier_payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.262ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'supplier_payments' AND column_name = 'company_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'supplier_payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.238ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'supplier_payments' AND column_name = 'payment_number') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'supplier_payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.215ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'supplier_payments' AND column_name = 'payment_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'supplier_payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.209ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'supplier_payments' AND column_name = 'supplier_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'supplier_payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.221ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'supplier_payments' AND column_name = 'purchase_order_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'supplier_payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.245ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'supplier_payments' AND column_name = 'amount') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'supplier_payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.270ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'supplier_payments' AND column_name = 'payment_method') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'supplier_payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.242ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'supplier_payments' AND column_name = 'reference') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'supplier_payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.247ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'supplier_payments' AND column_name = 'bank_account_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'supplier_payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.211ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'supplier_payments' AND column_name = 'notes') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'supplier_payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.207ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'supplier_payments' AND column_name = 'approved_by') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'supplier_payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.219ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'supplier_payments' AND column_name = 'approved_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'supplier_payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.211ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'supplier_payments' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'supplier_payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.200ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'supplier_payments' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'supplier_payments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.215ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'supplier_payments' AND constraint_name = 'fk_supplier_payments_purchase_order'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.218ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'supplier_payments' AND constraint_name = 'fk_supplier_payments_bank_account'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.201ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'supplier_payments' AND constraint_name = 'fk_supplier_payments_tenant'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.231ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'supplier_payments' AND constraint_name = 'fk_supplier_payments_company'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.196ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'supplier_payments' AND constraint_name = 'fk_supplier_payments_supplier'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.143ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'supplier_payments' AND indexname = 'idx_supplier_payments_tenant_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.135ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'supplier_payments' AND indexname = 'idx_company_supplier_payment' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.131ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'supplier_payments' AND indexname = 'idx_company_payment_number' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.129ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'supplier_payments' AND indexname = 'idx_supplier_payments_payment_date' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.162ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'supplier_payments' AND indexname = 'idx_supplier_payments_supplier_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.111ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'supplier_payments' AND indexname = 'idx_supplier_payments_purchase_order_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.108ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'supplier_payments' AND indexname = 'idx_supplier_payments_payment_method' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:59
[0m[33m[0.142ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'supplier_payments' AND indexname = 'idx_supplier_payments_bank_account_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.519ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND table_type = 'BASE TABLE'

2026/01/03 21:07:20 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.125ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[1.602ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.176ms] [34;1m[rows:-][0m SELECT * FROM "subscriptions" LIMIT 5

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[1.821ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'subscriptions' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[1.984ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'subscriptions'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.158ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'subscriptions'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.231ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[16.952ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'price') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.452ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'billing_cycle') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.443ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.446ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'current_period_start') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.432ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'current_period_end') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.418ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'next_billing_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.279ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'payment_method') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.336ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'last_payment_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.326ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'last_payment_amount') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.294ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'grace_period_ends') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.301ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'auto_renew') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.264ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'cancelled_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.291ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'cancellation_reason') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.271ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.255ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'subscriptions' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'subscriptions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.191ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'subscriptions' AND indexname = 'idx_subscriptions_status' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.173ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'subscriptions' AND indexname = 'idx_subscriptions_next_billing_date' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.166ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'subscriptions' AND indexname = 'idx_subscriptions_grace_period_ends' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.172ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tenants' AND table_type = 'BASE TABLE'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.114ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[1.553ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'tenants'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.307ms] [34;1m[rows:-][0m SELECT * FROM "tenants" LIMIT 5

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[3.884ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'tenants' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[3.814ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'tenants'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.263ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'tenants'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.468ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tenants' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tenants' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.288ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tenants' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tenants' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.247ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tenants' AND column_name = 'subdomain') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tenants' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.271ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tenants' AND column_name = 'subscription_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tenants' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.275ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tenants' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tenants' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.252ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tenants' AND column_name = 'trial_ends_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tenants' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.248ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tenants' AND column_name = 'notes') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tenants' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.264ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tenants' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tenants' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.251ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tenants' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tenants' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.232ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tenants' AND constraint_name = 'fk_subscriptions_tenants'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.167ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'tenants' AND indexname = 'idx_tenants_subdomain' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.183ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'tenants' AND indexname = 'idx_tenants_subscription_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.175ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'tenants' AND indexname = 'idx_tenants_status' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.161ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND table_type = 'BASE TABLE'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.094ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[3.601ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'companies'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.290ms] [34;1m[rows:-][0m SELECT * FROM "companies" LIMIT 5

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[43.411ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'companies' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[44.072ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'companies'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.339ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'companies'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.457ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.456ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'tenant_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.455ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.364ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'legal_name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.346ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'entity_type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.345ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'address') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.318ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'city') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.325ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'province') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.273ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'postal_code') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.304ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'country') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.293ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'phone') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.313ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'email') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.361ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'website') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.276ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'npwp') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.261ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'nib') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.276ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'is_pkp') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.276ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'ppn_rate') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.249ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'faktur_pajak_series') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.222ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'sppkp_number') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.303ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'logo_url') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.229ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'primary_color') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.223ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'secondary_color') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.244ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'invoice_prefix') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.237ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'invoice_number_format') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.235ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'invoice_footer') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.217ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'invoice_terms') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.244ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'so_prefix') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.218ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'so_number_format') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.209ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'po_prefix') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.207ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'po_number_format') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.243ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'currency') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.247ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'timezone') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.203ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'locale') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.230ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'business_hours_start') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.245ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'business_hours_end') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.215ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'working_days') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.228ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'is_active') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.385ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.237ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'companies' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.234ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND constraint_name = 'fk_tenants_companies'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.227ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'companies' AND constraint_name = 'chk_companies_entity_type'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.144ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'companies' AND indexname = 'idx_company_tenant' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.157ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'companies' AND indexname = 'idx_tenant_company' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.142ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'companies' AND indexname = 'idx_companies_npwp' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.164ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'companies' AND indexname = 'idx_company_active' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.152ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.115ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[1.148ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.202ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[1.586ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[19.429ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.295ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.446ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.467ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'email') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.395ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'username') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.358ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'password') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.338ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.301ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'is_system_admin') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.318ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'is_active') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.301ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.312ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.225ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_email' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.182ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_username' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.244ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND table_type = 'BASE TABLE'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.168ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[2.081ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.211ms] [34;1m[rows:-][0m SELECT * FROM "warehouses" LIMIT 5

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[4.466ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'warehouses' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[6.041ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'warehouses'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.283ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'warehouses'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.415ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouses' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.387ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND column_name = 'tenant_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouses' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.449ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND column_name = 'company_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouses' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.399ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND column_name = 'code') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouses' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.428ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouses' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.378ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouses' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.278ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND column_name = 'address') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouses' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.306ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND column_name = 'city') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouses' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.321ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND column_name = 'province') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouses' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.332ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND column_name = 'postal_code') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouses' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.309ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND column_name = 'phone') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouses' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.274ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND column_name = 'email') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouses' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.260ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND column_name = 'manager_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouses' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.254ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND column_name = 'capacity') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouses' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.258ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND column_name = 'is_active') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouses' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.251ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouses' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.197ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouses' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.244ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND constraint_name = 'fk_warehouses_company'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.306ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND constraint_name = 'fk_warehouses_manager'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.234ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouses' AND constraint_name = 'fk_warehouses_tenant'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.166ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'warehouses' AND indexname = 'idx_warehouses_tenant_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.143ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'warehouses' AND indexname = 'idx_company_warehouse' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.136ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'warehouses' AND indexname = 'idx_company_warehouse_code' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.177ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'warehouses' AND indexname = 'idx_warehouses_code' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.150ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'warehouses' AND indexname = 'idx_warehouses_type' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.137ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'warehouses' AND indexname = 'idx_warehouses_manager_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.140ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND table_type = 'BASE TABLE'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.095ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[1.959ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'products'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[17.180ms] [34;1m[rows:-][0m SELECT * FROM "products" LIMIT 5

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[7.234ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'products' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[7.276ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'products'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.313ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'products'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.434ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'products' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.360ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND column_name = 'tenant_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'products' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.324ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND column_name = 'company_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'products' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.378ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND column_name = 'code') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'products' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.384ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'products' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.354ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND column_name = 'category') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'products' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.347ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND column_name = 'base_unit') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'products' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.416ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND column_name = 'base_cost') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'products' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.357ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND column_name = 'base_price') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'products' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.323ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND column_name = 'current_stock') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'products' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.302ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND column_name = 'minimum_stock') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'products' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.277ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND column_name = 'description') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'products' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.262ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND column_name = 'barcode') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'products' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.322ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND column_name = 'is_batch_tracked') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'products' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.206ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND column_name = 'is_perishable') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'products' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.212ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND column_name = 'is_active') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'products' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.275ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'products' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.253ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'products' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.273ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND constraint_name = 'fk_products_tenant'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.218ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'products' AND constraint_name = 'fk_products_company'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.162ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'products' AND indexname = 'idx_products_tenant_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.142ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'products' AND indexname = 'idx_company_product' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.134ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'products' AND indexname = 'idx_company_product_code' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.163ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'products' AND indexname = 'idx_products_code' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.136ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'products' AND indexname = 'idx_products_name' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.140ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'products' AND indexname = 'idx_products_barcode' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.171ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'products' AND indexname = 'idx_products_is_batch_tracked' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.154ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouse_stocks' AND table_type = 'BASE TABLE'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.098ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[1.461ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'warehouse_stocks'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.169ms] [34;1m[rows:-][0m SELECT * FROM "warehouse_stocks" LIMIT 5

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[1.179ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'warehouse_stocks' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[1.163ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'warehouse_stocks'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.118ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'warehouse_stocks'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.196ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouse_stocks' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouse_stocks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.193ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouse_stocks' AND column_name = 'warehouse_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouse_stocks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.276ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouse_stocks' AND column_name = 'product_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouse_stocks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.264ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouse_stocks' AND column_name = 'quantity') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouse_stocks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.205ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouse_stocks' AND column_name = 'minimum_stock') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouse_stocks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.214ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouse_stocks' AND column_name = 'maximum_stock') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouse_stocks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.215ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouse_stocks' AND column_name = 'location') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouse_stocks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.223ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouse_stocks' AND column_name = 'last_count_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouse_stocks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.198ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouse_stocks' AND column_name = 'last_count_qty') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouse_stocks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.218ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouse_stocks' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouse_stocks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.189ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouse_stocks' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'warehouse_stocks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.199ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouse_stocks' AND constraint_name = 'fk_warehouses_stocks'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.188ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'warehouse_stocks' AND constraint_name = 'fk_products_warehouse_stocks'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.140ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'warehouse_stocks' AND indexname = 'idx_warehouse_stocks_warehouse_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.129ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'warehouse_stocks' AND indexname = 'idx_warehouse_product' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[17.131ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'warehouse_stocks' AND indexname = 'idx_warehouse_stocks_product_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.538ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'warehouse_stocks' AND indexname = 'idx_warehouse_stocks_quantity' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.578ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches' AND table_type = 'BASE TABLE'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.380ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[3.228ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.323ms] [34;1m[rows:-][0m SELECT * FROM "product_batches" LIMIT 5

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[3.993ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'product_batches' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[3.924ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'product_batches'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.204ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'product_batches'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.316ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_batches' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.334ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches' AND column_name = 'batch_number') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_batches' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.318ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches' AND column_name = 'product_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_batches' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.309ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches' AND column_name = 'warehouse_stock_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_batches' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.329ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches' AND column_name = 'manufacture_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_batches' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.370ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches' AND column_name = 'expiry_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_batches' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.343ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches' AND column_name = 'quantity') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_batches' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.418ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches' AND column_name = 'supplier_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_batches' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.364ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches' AND column_name = 'goods_receipt_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_batches' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.341ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches' AND column_name = 'receipt_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_batches' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.357ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_batches' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.287ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches' AND column_name = 'quality_status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_batches' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.264ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches' AND column_name = 'reference_number') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_batches' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.260ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches' AND column_name = 'notes') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_batches' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.256ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_batches' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.311ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'product_batches' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.385ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches' AND constraint_name = 'fk_warehouse_stocks_batches'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.281ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'product_batches' AND constraint_name = 'fk_products_batches'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.211ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'product_batches' AND indexname = 'idx_batch_product' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.146ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'product_batches' AND indexname = 'idx_product_batches_product_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.185ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'product_batches' AND indexname = 'idx_product_batches_warehouse_stock_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.165ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'product_batches' AND indexname = 'idx_product_batches_expiry_date' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.216ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'product_batches' AND indexname = 'idx_product_batches_goods_receipt_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.144ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'product_batches' AND indexname = 'idx_product_batches_status' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.170ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'inventory_movements' AND table_type = 'BASE TABLE'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.099ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[1.837ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'inventory_movements'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[1.068ms] [34;1m[rows:-][0m SELECT * FROM "inventory_movements" LIMIT 5

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[1.885ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'inventory_movements' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[1.787ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'inventory_movements'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.147ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'inventory_movements'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.269ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'inventory_movements' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'inventory_movements' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.255ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'inventory_movements' AND column_name = 'tenant_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'inventory_movements' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.212ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'inventory_movements' AND column_name = 'company_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'inventory_movements' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.191ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'inventory_movements' AND column_name = 'movement_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'inventory_movements' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.180ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'inventory_movements' AND column_name = 'warehouse_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'inventory_movements' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.176ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'inventory_movements' AND column_name = 'product_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'inventory_movements' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.199ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'inventory_movements' AND column_name = 'batch_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'inventory_movements' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.204ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'inventory_movements' AND column_name = 'movement_type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'inventory_movements' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.213ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'inventory_movements' AND column_name = 'quantity') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'inventory_movements' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[17.103ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'inventory_movements' AND column_name = 'stock_before') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'inventory_movements' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.730ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'inventory_movements' AND column_name = 'stock_after') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'inventory_movements' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.449ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'inventory_movements' AND column_name = 'reference_type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'inventory_movements' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.537ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'inventory_movements' AND column_name = 'reference_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'inventory_movements' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.416ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'inventory_movements' AND column_name = 'reference_number') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'inventory_movements' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.461ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'inventory_movements' AND column_name = 'notes') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'inventory_movements' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.665ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'inventory_movements' AND column_name = 'created_by') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'inventory_movements' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.413ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'inventory_movements' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'inventory_movements' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.351ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'inventory_movements' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'inventory_movements' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.353ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'inventory_movements' AND constraint_name = 'fk_inventory_movements_tenant'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.332ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'inventory_movements' AND constraint_name = 'fk_inventory_movements_company'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.341ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'inventory_movements' AND constraint_name = 'fk_inventory_movements_warehouse'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.295ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'inventory_movements' AND constraint_name = 'fk_inventory_movements_product'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.263ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'inventory_movements' AND constraint_name = 'fk_inventory_movements_batch'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.236ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'inventory_movements' AND indexname = 'idx_inventory_movements_tenant_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.180ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'inventory_movements' AND indexname = 'idx_company_inventory_movement' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.168ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'inventory_movements' AND indexname = 'idx_inventory_movements_movement_date' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.161ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'inventory_movements' AND indexname = 'idx_inventory_movements_warehouse_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.179ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'inventory_movements' AND indexname = 'idx_inventory_movements_product_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.157ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'inventory_movements' AND indexname = 'idx_inventory_movements_batch_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.153ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'inventory_movements' AND indexname = 'idx_inventory_movements_movement_type' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.157ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'inventory_movements' AND indexname = 'idx_inventory_movements_reference_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.228ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_opnames' AND table_type = 'BASE TABLE'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.131ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[1.995ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'stock_opnames'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[1.106ms] [34;1m[rows:-][0m SELECT * FROM "stock_opnames" LIMIT 5

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[1.934ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'stock_opnames' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[2.084ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'stock_opnames'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.191ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'stock_opnames'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.318ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_opnames' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'stock_opnames' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.318ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_opnames' AND column_name = 'tenant_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'stock_opnames' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.419ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_opnames' AND column_name = 'company_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'stock_opnames' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.395ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_opnames' AND column_name = 'opname_number') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'stock_opnames' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.388ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_opnames' AND column_name = 'opname_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'stock_opnames' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.324ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_opnames' AND column_name = 'warehouse_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'stock_opnames' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.256ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_opnames' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'stock_opnames' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.251ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_opnames' AND column_name = 'counted_by') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'stock_opnames' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.224ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_opnames' AND column_name = 'approved_by') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'stock_opnames' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.252ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_opnames' AND column_name = 'approved_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'stock_opnames' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.243ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_opnames' AND column_name = 'notes') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'stock_opnames' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.222ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_opnames' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'stock_opnames' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.213ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_opnames' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'stock_opnames' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.245ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_opnames' AND constraint_name = 'fk_stock_opnames_tenant'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.203ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_opnames' AND constraint_name = 'fk_stock_opnames_company'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.207ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_opnames' AND constraint_name = 'fk_stock_opnames_warehouse'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.151ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'stock_opnames' AND indexname = 'idx_stock_opnames_tenant_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.256ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'stock_opnames' AND indexname = 'idx_company_stock_opname' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.134ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'stock_opnames' AND indexname = 'idx_company_opname_number' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.130ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'stock_opnames' AND indexname = 'idx_stock_opnames_opname_date' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.145ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'stock_opnames' AND indexname = 'idx_stock_opnames_warehouse_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.163ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'stock_opnames' AND indexname = 'idx_stock_opnames_status' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.156ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_opname_items' AND table_type = 'BASE TABLE'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.296ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[1.339ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'stock_opname_items'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.672ms] [34;1m[rows:-][0m SELECT * FROM "stock_opname_items" LIMIT 5

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[1.169ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'stock_opname_items' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[1.335ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'stock_opname_items'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.231ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'stock_opname_items'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.317ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_opname_items' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'stock_opname_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.260ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_opname_items' AND column_name = 'stock_opname_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'stock_opname_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.224ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_opname_items' AND column_name = 'product_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'stock_opname_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.233ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_opname_items' AND column_name = 'batch_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'stock_opname_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.233ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_opname_items' AND column_name = 'system_qty') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'stock_opname_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.220ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_opname_items' AND column_name = 'physical_qty') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'stock_opname_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.219ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_opname_items' AND column_name = 'difference_qty') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'stock_opname_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.205ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_opname_items' AND column_name = 'notes') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'stock_opname_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.218ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_opname_items' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'stock_opname_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.240ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_opname_items' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'stock_opname_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[17.022ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_opname_items' AND constraint_name = 'fk_stock_opnames_items'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.711ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_opname_items' AND constraint_name = 'fk_stock_opname_items_product'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.433ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_opname_items' AND constraint_name = 'fk_stock_opname_items_batch'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.336ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'stock_opname_items' AND indexname = 'idx_stock_opname_items_stock_opname_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.318ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'stock_opname_items' AND indexname = 'idx_stock_opname_items_product_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.302ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'stock_opname_items' AND indexname = 'idx_stock_opname_items_batch_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.352ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_transfers' AND table_type = 'BASE TABLE'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.350ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[2.369ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'stock_transfers'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[1.143ms] [34;1m[rows:-][0m SELECT * FROM "stock_transfers" LIMIT 5

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[1.941ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'stock_transfers' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[2.350ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'stock_transfers'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.245ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'stock_transfers'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.359ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_transfers' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'stock_transfers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.338ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_transfers' AND column_name = 'tenant_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'stock_transfers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.325ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_transfers' AND column_name = 'company_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'stock_transfers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.317ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_transfers' AND column_name = 'transfer_number') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'stock_transfers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.418ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_transfers' AND column_name = 'transfer_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'stock_transfers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.290ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_transfers' AND column_name = 'source_warehouse_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'stock_transfers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.309ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_transfers' AND column_name = 'dest_warehouse_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'stock_transfers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.273ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_transfers' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'stock_transfers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.275ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_transfers' AND column_name = 'shipped_by') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'stock_transfers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.276ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_transfers' AND column_name = 'shipped_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'stock_transfers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.354ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_transfers' AND column_name = 'received_by') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'stock_transfers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.336ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_transfers' AND column_name = 'received_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'stock_transfers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.279ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_transfers' AND column_name = 'notes') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'stock_transfers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.345ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_transfers' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'stock_transfers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.306ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_transfers' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'stock_transfers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.284ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_transfers' AND constraint_name = 'fk_stock_transfers_tenant'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.288ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_transfers' AND constraint_name = 'fk_stock_transfers_company'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.255ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_transfers' AND constraint_name = 'fk_stock_transfers_source_warehouse'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.205ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_transfers' AND constraint_name = 'fk_stock_transfers_dest_warehouse'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.196ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'stock_transfers' AND indexname = 'idx_stock_transfers_tenant_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.168ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'stock_transfers' AND indexname = 'idx_company_stock_transfer' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.171ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'stock_transfers' AND indexname = 'idx_company_transfer_number' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.147ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'stock_transfers' AND indexname = 'idx_stock_transfers_transfer_date' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.136ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'stock_transfers' AND indexname = 'idx_stock_transfers_source_warehouse_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.155ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'stock_transfers' AND indexname = 'idx_stock_transfers_dest_warehouse_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.161ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'stock_transfers' AND indexname = 'idx_stock_transfers_status' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.152ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_transfer_items' AND table_type = 'BASE TABLE'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.091ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[1.151ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'stock_transfer_items'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.746ms] [34;1m[rows:-][0m SELECT * FROM "stock_transfer_items" LIMIT 5

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.989ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'stock_transfer_items' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.997ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'stock_transfer_items'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.137ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'stock_transfer_items'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.223ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_transfer_items' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'stock_transfer_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.254ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_transfer_items' AND column_name = 'stock_transfer_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'stock_transfer_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.276ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_transfer_items' AND column_name = 'product_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'stock_transfer_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.212ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_transfer_items' AND column_name = 'batch_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'stock_transfer_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.241ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_transfer_items' AND column_name = 'quantity') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'stock_transfer_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.315ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_transfer_items' AND column_name = 'notes') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'stock_transfer_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.219ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_transfer_items' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'stock_transfer_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.215ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_transfer_items' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'stock_transfer_items' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.223ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_transfer_items' AND constraint_name = 'fk_stock_transfer_items_product'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.222ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_transfer_items' AND constraint_name = 'fk_stock_transfer_items_batch'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.191ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'stock_transfer_items' AND constraint_name = 'fk_stock_transfers_items'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.153ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'stock_transfer_items' AND indexname = 'idx_stock_transfer_items_stock_transfer_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.136ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'stock_transfer_items' AND indexname = 'idx_stock_transfer_items_product_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.131ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'stock_transfer_items' AND indexname = 'idx_stock_transfer_items_batch_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.138ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'cash_transactions' AND table_type = 'BASE TABLE'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.093ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[1.676ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'cash_transactions'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.755ms] [34;1m[rows:-][0m SELECT * FROM "cash_transactions" LIMIT 5

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[19.141ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'cash_transactions' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[2.606ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'cash_transactions'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.330ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'cash_transactions'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.383ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'cash_transactions' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'cash_transactions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.384ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'cash_transactions' AND column_name = 'tenant_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'cash_transactions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.395ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'cash_transactions' AND column_name = 'company_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'cash_transactions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.329ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'cash_transactions' AND column_name = 'transaction_number') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'cash_transactions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.320ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'cash_transactions' AND column_name = 'transaction_date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'cash_transactions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.346ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'cash_transactions' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'cash_transactions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.315ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'cash_transactions' AND column_name = 'category') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'cash_transactions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.312ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'cash_transactions' AND column_name = 'amount') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'cash_transactions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.274ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'cash_transactions' AND column_name = 'balance_before') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'cash_transactions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.257ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'cash_transactions' AND column_name = 'balance_after') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'cash_transactions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.224ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'cash_transactions' AND column_name = 'description') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'cash_transactions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.202ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'cash_transactions' AND column_name = 'reference_type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'cash_transactions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.204ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'cash_transactions' AND column_name = 'reference_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'cash_transactions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.202ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'cash_transactions' AND column_name = 'reference_number') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'cash_transactions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.201ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'cash_transactions' AND column_name = 'notes') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'cash_transactions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.197ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'cash_transactions' AND column_name = 'created_by') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'cash_transactions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.196ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'cash_transactions' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'cash_transactions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.198ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'cash_transactions' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'cash_transactions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.220ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'cash_transactions' AND constraint_name = 'fk_cash_transactions_tenant'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.194ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'cash_transactions' AND constraint_name = 'fk_cash_transactions_company'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.143ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'cash_transactions' AND indexname = 'idx_cash_transactions_tenant_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.221ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'cash_transactions' AND indexname = 'idx_company_cash_transaction' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.134ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'cash_transactions' AND indexname = 'idx_company_transaction_number' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.165ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'cash_transactions' AND indexname = 'idx_cash_transactions_transaction_date' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.133ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'cash_transactions' AND indexname = 'idx_cash_transactions_type' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.138ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'cash_transactions' AND indexname = 'idx_cash_transactions_category' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.132ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'cash_transactions' AND indexname = 'idx_cash_transactions_reference_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.135ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'settings' AND table_type = 'BASE TABLE'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.089ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[1.188ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'settings'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.656ms] [34;1m[rows:-][0m SELECT * FROM "settings" LIMIT 5

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[1.232ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'settings' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[1.532ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'settings'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.250ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'settings'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.283ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'settings' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'settings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.255ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'settings' AND column_name = 'tenant_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'settings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.284ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'settings' AND column_name = 'key') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'settings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.353ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'settings' AND column_name = 'value') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'settings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.259ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'settings' AND column_name = 'data_type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'settings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.216ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'settings' AND column_name = 'is_public') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'settings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.230ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'settings' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'settings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.259ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'settings' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'settings' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.248ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'settings' AND constraint_name = 'fk_settings_tenant'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.171ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'settings' AND indexname = 'idx_settings_tenant_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.165ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'settings' AND indexname = 'idx_settings_key' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.148ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'audit_logs' AND table_type = 'BASE TABLE'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.097ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[1.397ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'erp_db' AND table_schema = CURRENT_SCHEMA() AND table_name = 'audit_logs'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.921ms] [34;1m[rows:-][0m SELECT * FROM "audit_logs" LIMIT 5

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[1.345ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'audit_logs' AND constraint_type = 'UNIQUE'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[1.389ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'erp_db' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'audit_logs'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.155ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'audit_logs'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.253ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'audit_logs' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'audit_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.252ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'audit_logs' AND column_name = 'tenant_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'audit_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.217ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'audit_logs' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'audit_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.195ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'audit_logs' AND column_name = 'action') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'audit_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.211ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'audit_logs' AND column_name = 'entity_type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'audit_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.187ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'audit_logs' AND column_name = 'entity_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'audit_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.218ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'audit_logs' AND column_name = 'old_values') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'audit_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.207ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'audit_logs' AND column_name = 'new_values') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'audit_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.206ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'audit_logs' AND column_name = 'ip_address') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'audit_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.198ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'audit_logs' AND column_name = 'user_agent') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'audit_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.187ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'audit_logs' AND column_name = 'notes') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'audit_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.190ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'audit_logs' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'audit_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.205ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'audit_logs' AND constraint_name = 'fk_audit_logs_tenant'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.170ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'audit_logs' AND constraint_name = 'fk_audit_logs_user'

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.217ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'audit_logs' AND indexname = 'idx_audit_logs_tenant_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.160ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'audit_logs' AND indexname = 'idx_audit_logs_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.119ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'audit_logs' AND indexname = 'idx_audit_logs_action' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.114ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'audit_logs' AND indexname = 'idx_audit_logs_entity_type' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.111ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'audit_logs' AND indexname = 'idx_audit_logs_entity_id' AND schemaname = CURRENT_SCHEMA()

2026/01/03 21:07:21 [32m/Users/christianhandoko/Development/work/erp/backend/db/migration.go:134
[0m[33m[0.110ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'audit_logs' AND indexname = 'idx_audit_logs_created_at' AND schemaname = CURRENT_SCHEMA()
2026/01/03 21:07:21 Auto-migration completed successfully
2026/01/03 21:07:21 Database connected successfully (Tenant Isolation: Strict=true, Warnings=true, Bypass=true)
2026/01/03 21:07:21 Database initialized successfully
2026/01/03 21:07:21 [JOB] Starting background job scheduler...
2026/01/03 21:07:21 [JOB] Scheduler started with 4 jobs
2026/01/03 21:07:21 [JOB] Refresh token cleanup: 0 0 * * * *
2026/01/03 21:07:21 [JOB] Email cleanup: 0 5 * * * *
2026/01/03 21:07:21 [JOB] Password cleanup: 0 10 * * * *
2026/01/03 21:07:21 [JOB] Login cleanup: 0 0 2 * * *
2026/01/03 21:07:21 Background job scheduler started successfully
2026/01/03 21:07:21 Password hasher initialized (Argon2id)
2026/01/03 21:07:21 JWT service initialized (Algorithm: HS256)
[GIN-debug] [WARNING] Running in "debug" mode. Switch to "release" mode in production.
 - using env:	export GIN_MODE=release
 - using code:	gin.SetMode(gin.ReleaseMode)

[GIN-debug] GET    /health                   --> backend/internal/handler.(*HealthHandler).Liveness-fm (5 handlers)
[GIN-debug] GET    /ready                    --> backend/internal/handler.(*HealthHandler).Readiness-fm (5 handlers)
[GIN-debug] POST   /api/v1/auth/login        --> backend/internal/handler.(*AuthHandler).Login-fm (6 handlers)
[GIN-debug] POST   /api/v1/auth/refresh      --> backend/internal/handler.(*AuthHandler).RefreshToken-fm (6 handlers)
[GIN-debug] POST   /api/v1/auth/forgot-password --> backend/internal/handler.(*AuthHandler).ForgotPassword-fm (6 handlers)
[GIN-debug] POST   /api/v1/auth/reset-password --> backend/internal/handler.(*AuthHandler).ResetPassword-fm (6 handlers)
[GIN-debug] POST   /api/v1/auth/verify-email --> backend/internal/handler.(*AuthHandler).VerifyEmail-fm (6 handlers)
[GIN-debug] POST   /api/v1/auth/logout       --> backend/internal/handler.(*AuthHandler).Logout-fm (9 handlers)
[GIN-debug] POST   /api/v1/auth/change-password --> backend/internal/handler.(*AuthHandler).ChangePassword-fm (9 handlers)
[GIN-debug] POST   /api/v1/auth/switch-tenant --> backend/internal/handler.(*AuthHandler).SwitchTenant-fm (9 handlers)
[GIN-debug] POST   /api/v1/auth/switch-company --> backend/internal/handler.(*AuthHandler).SwitchCompany-fm (9 handlers)
[GIN-debug] GET    /api/v1/auth/me           --> backend/internal/handler.(*AuthHandler).GetCurrentUser-fm (9 handlers)
[GIN-debug] GET    /api/v1/auth/tenants      --> backend/internal/handler.(*AuthHandler).GetUserTenants-fm (9 handlers)
[GIN-debug] GET    /api/v1/tenant            --> backend/internal/handler.(*TenantHandler).GetTenantDetails-fm (11 handlers)
[GIN-debug] GET    /api/v1/tenant/users      --> backend/internal/handler.(*TenantHandler).ListTenantUsers-fm (12 handlers)
[GIN-debug] POST   /api/v1/tenant/users/invite --> backend/internal/handler.(*TenantHandler).InviteUser-fm (13 handlers)
[GIN-debug] PUT    /api/v1/tenant/users/:userTenantId/role --> backend/internal/handler.(*TenantHandler).UpdateUserRole-fm (12 handlers)
[GIN-debug] DELETE /api/v1/tenant/users/:userTenantId --> backend/internal/handler.(*TenantHandler).RemoveUser-fm (12 handlers)
[GIN-debug] GET    /api/v1/company           --> backend/internal/handler.(*CompanyHandler).GetCompanyProfile-fm (12 handlers)
[GIN-debug] PUT    /api/v1/company           --> backend/internal/handler.(*CompanyHandler).UpdateCompanyProfile-fm (13 handlers)
[GIN-debug] GET    /api/v1/company/banks     --> backend/internal/handler.(*CompanyHandler).GetBankAccounts-fm (12 handlers)
[GIN-debug] GET    /api/v1/company/banks/:id --> backend/internal/handler.(*CompanyHandler).GetBankAccount-fm (12 handlers)
[GIN-debug] POST   /api/v1/company/banks     --> backend/internal/handler.(*CompanyHandler).AddBankAccount-fm (13 handlers)
[GIN-debug] PUT    /api/v1/company/banks/:id --> backend/internal/handler.(*CompanyHandler).UpdateBankAccount-fm (13 handlers)
[GIN-debug] DELETE /api/v1/company/banks/:id --> backend/internal/handler.(*CompanyHandler).DeleteBankAccount-fm (13 handlers)
[GIN-debug] GET    /api/v1/company/users     --> backend/internal/handler.(*CompanyUserHandler).ListCompanyUsers-fm (12 handlers)
[GIN-debug] POST   /api/v1/company/users/invite --> backend/internal/handler.(*CompanyUserHandler).InviteCompanyUser-fm (14 handlers)
[GIN-debug] PUT    /api/v1/company/users/:userTenantId/role --> backend/internal/handler.(*CompanyUserHandler).UpdateCompanyUserRole-fm (13 handlers)
[GIN-debug] DELETE /api/v1/company/users/:userTenantId --> backend/internal/handler.(*CompanyUserHandler).RemoveCompanyUser-fm (13 handlers)
[GIN-debug] GET    /api/v1/companies         --> backend/internal/handler.(*MultiCompanyHandler).ListCompanies-fm (12 handlers)
[GIN-debug] POST   /api/v1/companies         --> backend/internal/handler.(*MultiCompanyHandler).CreateCompany-fm (12 handlers)
[GIN-debug] GET    /api/v1/companies/:id     --> backend/internal/handler.(*MultiCompanyHandler).GetCompany-fm (12 handlers)
[GIN-debug] PATCH  /api/v1/companies/:id     --> backend/internal/handler.(*MultiCompanyHandler).UpdateCompany-fm (13 handlers)
[GIN-debug] DELETE /api/v1/companies/:id     --> backend/internal/handler.(*MultiCompanyHandler).DeactivateCompany-fm (12 handlers)
[GIN-debug] GET    /api/v1/products          --> backend/internal/handler.(*ProductHandler).ListProducts-fm (12 handlers)
[GIN-debug] GET    /api/v1/products/:id      --> backend/internal/handler.(*ProductHandler).GetProduct-fm (12 handlers)
[GIN-debug] POST   /api/v1/products          --> backend/internal/handler.(*ProductHandler).CreateProduct-fm (13 handlers)
[GIN-debug] PUT    /api/v1/products/:id      --> backend/internal/handler.(*ProductHandler).UpdateProduct-fm (13 handlers)
[GIN-debug] DELETE /api/v1/products/:id      --> backend/internal/handler.(*ProductHandler).DeleteProduct-fm (13 handlers)
[GIN-debug] POST   /api/v1/products/:id/units --> backend/internal/handler.(*ProductHandler).AddProductUnit-fm (13 handlers)
[GIN-debug] PUT    /api/v1/products/:id/units/:unitId --> backend/internal/handler.(*ProductHandler).UpdateProductUnit-fm (13 handlers)
[GIN-debug] DELETE /api/v1/products/:id/units/:unitId --> backend/internal/handler.(*ProductHandler).DeleteProductUnit-fm (13 handlers)
[GIN-debug] POST   /api/v1/products/:id/suppliers --> backend/internal/handler.(*ProductHandler).AddProductSupplier-fm (13 handlers)
[GIN-debug] PUT    /api/v1/products/:id/suppliers/:supplierId --> backend/internal/handler.(*ProductHandler).UpdateProductSupplier-fm (13 handlers)
[GIN-debug] DELETE /api/v1/products/:id/suppliers/:supplierId --> backend/internal/handler.(*ProductHandler).DeleteProductSupplier-fm (13 handlers)
[GIN-debug] GET    /api/v1/customers         --> backend/internal/handler.(*CustomerHandler).ListCustomers-fm (12 handlers)
[GIN-debug] GET    /api/v1/customers/:id     --> backend/internal/handler.(*CustomerHandler).GetCustomer-fm (12 handlers)
[GIN-debug] POST   /api/v1/customers         --> backend/internal/handler.(*CustomerHandler).CreateCustomer-fm (13 handlers)
[GIN-debug] PUT    /api/v1/customers/:id     --> backend/internal/handler.(*CustomerHandler).UpdateCustomer-fm (13 handlers)
[GIN-debug] DELETE /api/v1/customers/:id     --> backend/internal/handler.(*CustomerHandler).DeleteCustomer-fm (13 handlers)
[GIN-debug] GET    /api/v1/suppliers         --> backend/internal/handler.(*SupplierHandler).ListSuppliers-fm (12 handlers)
[GIN-debug] GET    /api/v1/suppliers/:id     --> backend/internal/handler.(*SupplierHandler).GetSupplier-fm (12 handlers)
[GIN-debug] POST   /api/v1/suppliers         --> backend/internal/handler.(*SupplierHandler).CreateSupplier-fm (13 handlers)
[GIN-debug] PUT    /api/v1/suppliers/:id     --> backend/internal/handler.(*SupplierHandler).UpdateSupplier-fm (13 handlers)
[GIN-debug] DELETE /api/v1/suppliers/:id     --> backend/internal/handler.(*SupplierHandler).DeleteSupplier-fm (13 handlers)
[GIN-debug] GET    /api/v1/warehouses        --> backend/internal/handler.(*WarehouseHandler).ListWarehouses-fm (12 handlers)
[GIN-debug] GET    /api/v1/warehouses/:id    --> backend/internal/handler.(*WarehouseHandler).GetWarehouse-fm (12 handlers)
[GIN-debug] POST   /api/v1/warehouses        --> backend/internal/handler.(*WarehouseHandler).CreateWarehouse-fm (13 handlers)
[GIN-debug] PUT    /api/v1/warehouses/:id    --> backend/internal/handler.(*WarehouseHandler).UpdateWarehouse-fm (13 handlers)
[GIN-debug] DELETE /api/v1/warehouses/:id    --> backend/internal/handler.(*WarehouseHandler).DeleteWarehouse-fm (13 handlers)
[GIN-debug] GET    /api/v1/warehouse-stocks  --> backend/internal/handler.(*WarehouseHandler).ListWarehouseStocks-fm (12 handlers)
[GIN-debug] PUT    /api/v1/warehouse-stocks/:id --> backend/internal/handler.(*WarehouseHandler).UpdateWarehouseStock-fm (13 handlers)
2026/01/03 21:07:21 Router configured successfully
2026/01/03 21:07:21 Server started successfully
2026/01/03 21:07:21 Press Ctrl+C to shutdown
2026/01/03 21:07:21 Server starting on port 8080
[GIN] 2026/01/03 - 21:07:47 | 204 |      43.955µs |             ::1 | OPTIONS  "/api/v1/companies"
[GIN] 2026/01/03 - 21:07:47 | 204 |      48.974µs |             ::1 | OPTIONS  "/api/v1/products?page=1&page_size=20&sort_by=code&sort_order=asc"
[GIN] 2026/01/03 - 21:07:47 | 204 |      62.206µs |             ::1 | OPTIONS  "/api/v1/auth/me"

2026/01/03 21:07:47 [32m/Users/christianhandoko/Development/work/erp/backend/internal/middleware/subscription.go:45
[0m[33m[2.679ms] [34;1m[rows:1][0m SELECT * FROM "tenants" WHERE id = '61bae91b-2a4e-4eb8-8d98-0e159e68984f' ORDER BY "tenants"."id" LIMIT 1
2026/01/03 21:07:47 🔍 DEBUG [ListCompanies]: User ID: 46c7b8ff-c6f4-499d-b1d0-f58a749302b3
2026/01/03 21:07:47 🔍 DEBUG [GetCompaniesByUserID]: Starting for user: 46c7b8ff-c6f4-499d-b1d0-f58a749302b3

2026/01/03 21:07:47 [32m/Users/christianhandoko/Development/work/erp/backend/internal/service/company/multi_company_service.go:62
[0m[33m[2.505ms] [34;1m[rows:1][0m SELECT * FROM "user_tenants" WHERE (user_id = '46c7b8ff-c6f4-499d-b1d0-f58a749302b3' AND is_active = true) AND role IN ('OWNER','TENANT_ADMIN')
2026/01/03 21:07:47 ✅ DEBUG [GetCompaniesByUserID]: Found 1 user tenant records
2026/01/03 21:07:47 🔍 DEBUG [GetCompaniesByUserID]: User has Tier 1 access, fetching companies for tenant IDs: [61bae91b-2a4e-4eb8-8d98-0e159e68984f]

2026/01/03 21:07:47 [32m/Users/christianhandoko/Development/work/erp/backend/internal/service/company/multi_company_service.go:86
[0m[33m[3.598ms] [34;1m[rows:3][0m SELECT * FROM "companies" WHERE (tenant_id IN ('61bae91b-2a4e-4eb8-8d98-0e159e68984f') AND is_active = true) AND tenant_id = '61bae91b-2a4e-4eb8-8d98-0e159e68984f' ORDER BY created_at ASC
2026/01/03 21:07:47 ✅ DEBUG [GetCompaniesByUserID]: Tier 1 - Found 3 companies
2026/01/03 21:07:47 ✅ DEBUG [ListCompanies]: Found 3 companies
2026/01/03 21:07:47    Company 0: ID=270b570e-ba46-4f06-a009-6f3c4a552bc9, Name=PT Distribusi Utama
2026/01/03 21:07:47    Company 1: ID=deebb24b-c22d-4166-bdc5-3c7e2ed75a7a, Name=CV Sembako Jaya
2026/01/03 21:07:47    Company 2: ID=70da0ef9-2507-4bf4-a707-697917976cbe, Name=PT Retail Nusantara

2026/01/03 21:07:47 [32m/Users/christianhandoko/Development/work/erp/backend/internal/handler/multi_company_handler.go:76
[0m[33m[0.607ms] [34;1m[rows:1][0m SELECT * FROM "user_tenants" WHERE user_id = '46c7b8ff-c6f4-499d-b1d0-f58a749302b3' AND tenant_id = '61bae91b-2a4e-4eb8-8d98-0e159e68984f' AND is_active = true AND role IN ('OWNER','TENANT_ADMIN') ORDER BY "user_tenants"."id" LIMIT 1
2026/01/03 21:07:47    ✅ User has Tier 1 access: OWNER

2026/01/03 21:07:47 [32m/Users/christianhandoko/Development/work/erp/backend/internal/service/permission/permission_service.go:122
[0m[33m[1.063ms] [34;1m[rows:0][0m SELECT * FROM "user_company_roles" WHERE user_id = '46c7b8ff-c6f4-499d-b1d0-f58a749302b3' AND is_active = true
2026/01/03 21:07:47    Response 0: ID=270b570e-ba46-4f06-a009-6f3c4a552bc9, Role=OWNER, AccessTier=1
2026/01/03 21:07:47    Response 1: ID=deebb24b-c22d-4166-bdc5-3c7e2ed75a7a, Role=OWNER, AccessTier=1
2026/01/03 21:07:47    Response 2: ID=70da0ef9-2507-4bf4-a707-697917976cbe, Role=OWNER, AccessTier=1
[GIN] 2026/01/03 - 21:07:47 | 200 |   14.055002ms |             ::1 | GET      "/api/v1/companies"

2026/01/03 21:07:47 [32m/Users/christianhandoko/Development/work/erp/backend/internal/handler/auth_handler.go:426
[0m[33m[17.504ms] [34;1m[rows:1][0m SELECT * FROM "users" WHERE id = '46c7b8ff-c6f4-499d-b1d0-f58a749302b3' ORDER BY "users"."id" LIMIT 1

2026/01/03 21:07:47 [32m/Users/christianhandoko/Development/work/erp/backend/internal/middleware/subscription.go:45
[0m[33m[17.523ms] [34;1m[rows:1][0m SELECT * FROM "tenants" WHERE id = '61bae91b-2a4e-4eb8-8d98-0e159e68984f' ORDER BY "tenants"."id" LIMIT 1
[GIN] 2026/01/03 - 21:07:47 | 400 |   18.056312ms |             ::1 | GET      "/api/v1/products?page=1&page_size=20&sort_by=code&sort_order=asc"

2026/01/03 21:07:47 [32m/Users/christianhandoko/Development/work/erp/backend/internal/service/auth/auth_service.go:1220
[0m[33m[1.483ms] [34;1m[rows:1][0m SELECT * FROM "user_tenants" WHERE user_id = '46c7b8ff-c6f4-499d-b1d0-f58a749302b3' AND is_active = true

2026/01/03 21:07:47 [32m/Users/christianhandoko/Development/work/erp/backend/internal/service/auth/auth_service.go:1238
[0m[33m[1.305ms] [34;1m[rows:1][0m SELECT * FROM "tenants" WHERE id IN ('61bae91b-2a4e-4eb8-8d98-0e159e68984f')
[GIN] 2026/01/03 - 21:07:47 | 200 |   21.054652ms |             ::1 | GET      "/api/v1/auth/me"
[GIN] 2026/01/03 - 21:07:47 | 204 |      12.242µs |             ::1 | OPTIONS  "/api/v1/auth/switch-company"
2026/01/03 21:07:47 🔄 DEBUG [SwitchCompany]: Request - UserID: 46c7b8ff-c6f4-499d-b1d0-f58a749302b3, TenantID: 61bae91b-2a4e-4eb8-8d98-0e159e68984f, CompanyID: 270b570e-ba46-4f06-a009-6f3c4a552bc9
🔄 [SwitchCompany] START - UserID: 46c7b8ff-c6f4-499d-b1d0-f58a749302b3, TenantID: 61bae91b-2a4e-4eb8-8d98-0e159e68984f, CompanyID: 270b570e-ba46-4f06-a009-6f3c4a552bc9

2026/01/03 21:07:47 [32m/Users/christianhandoko/Development/work/erp/backend/internal/service/auth/auth_service.go:1062
[0m[33m[3.481ms] [34;1m[rows:1][0m SELECT * FROM "companies" WHERE id = '270b570e-ba46-4f06-a009-6f3c4a552bc9' AND tenant_id = '61bae91b-2a4e-4eb8-8d98-0e159e68984f' AND is_active = true ORDER BY "companies"."id" LIMIT 1
✅ [SwitchCompany] Company found: PT Distribusi Utama
🔍 [SwitchCompany] Checking Tier 1 access...

2026/01/03 21:07:47 [32m/Users/christianhandoko/Development/work/erp/backend/internal/service/auth/auth_service.go:1078
[0m[33m[1.722ms] [34;1m[rows:1][0m SELECT * FROM "user_tenants" WHERE user_id = '46c7b8ff-c6f4-499d-b1d0-f58a749302b3' AND tenant_id = '61bae91b-2a4e-4eb8-8d98-0e159e68984f' AND is_active = true AND role IN ('OWNER','TENANT_ADMIN') ORDER BY "user_tenants"."id" LIMIT 1
✅ [SwitchCompany] Tier 1 access granted - Role: OWNER
🔍 [SwitchCompany] Getting user details...

2026/01/03 21:07:47 [32m/Users/christianhandoko/Development/work/erp/backend/internal/service/auth/auth_service.go:1109
[0m[33m[1.115ms] [34;1m[rows:1][0m SELECT * FROM "users" WHERE id = '46c7b8ff-c6f4-499d-b1d0-f58a749302b3' ORDER BY "users"."id" LIMIT 1
✅ [SwitchCompany] User found: budi@example.com
✅ [SwitchCompany] Using Tier 1 role: OWNER

2026/01/03 21:07:47 [32m/Users/christianhandoko/Development/work/erp/backend/internal/service/auth/auth_service.go:1170
[0m[33m[0.444ms] [34;1m[rows:1][0m SELECT * FROM "user_tenants" WHERE user_id = '46c7b8ff-c6f4-499d-b1d0-f58a749302b3' AND tenant_id = '61bae91b-2a4e-4eb8-8d98-0e159e68984f' AND is_active = true AND role IN ('OWNER','TENANT_ADMIN') ORDER BY "user_tenants"."id" LIMIT 1

2026/01/03 21:07:47 [32m/Users/christianhandoko/Development/work/erp/backend/internal/service/auth/auth_service.go:1176
[0m[33m[0.966ms] [34;1m[rows:3][0m SELECT * FROM "companies" WHERE tenant_id = '61bae91b-2a4e-4eb8-8d98-0e159e68984f' AND is_active = true
[GIN] 2026/01/03 - 21:07:47 | 200 |    8.865649ms |             ::1 | POST     "/api/v1/auth/switch-company"

2026/01/03 21:07:47 [32m/Users/christianhandoko/Development/work/erp/backend/internal/middleware/subscription.go:45
[0m[33m[6.566ms] [34;1m[rows:1][0m SELECT * FROM "tenants" WHERE id = '61bae91b-2a4e-4eb8-8d98-0e159e68984f' ORDER BY "tenants"."id" LIMIT 1

2026/01/03 21:07:47 [32m/Users/christianhandoko/Development/work/erp/backend/internal/service/company/multi_company_service.go:291
[0m[33m[1.359ms] [34;1m[rows:1][0m SELECT * FROM "companies" WHERE id = '270b570e-ba46-4f06-a009-6f3c4a552bc9' ORDER BY "companies"."id" LIMIT 1

2026/01/03 21:07:47 [32m/Users/christianhandoko/Development/work/erp/backend/internal/service/company/multi_company_service.go:303
[0m[33m[0.698ms] [34;1m[rows:1][0m SELECT * FROM "user_tenants" WHERE (user_id = '46c7b8ff-c6f4-499d-b1d0-f58a749302b3' AND tenant_id = '61bae91b-2a4e-4eb8-8d98-0e159e68984f' AND is_active = true) AND role IN ('OWNER','TENANT_ADMIN') ORDER BY "user_tenants"."id" LIMIT 1
✅ DEBUG [CompanyContextMiddleware]: CheckUserCompanyAccess succeeded - HasAccess: true, Role: OWNER, Tier: 1
🔧 DEBUG [CompanyContextMiddleware]: Setting company context...
  ✅ SetCompanyID done
  ✅ SetTenantID done
  ✅ SetUserID done
  🔍 About to convert Role: OWNER (type: models.UserRole)
  ✅ Role converted to string: OWNER
  ✅ SetUserRole done
  ✅ SetCompanyAccess done
✅ DEBUG [CompanyContextMiddleware]: All context set successfully, calling c.Next()
🔍 DEBUG [ListProducts]: Handler started
✅ DEBUG [ListProducts]: Company ID retrieved: 270b570e-ba46-4f06-a009-6f3c4a552bc9
🔍 DEBUG [ListProducts]: About to bind query params: page=1&page_size=20&sort_by=code&sort_order=asc
✅ DEBUG [ListProducts]: Query params bound - Page: 1, Limit: 20, SortBy: code, SortOrder: asc
✅ DEBUG [ListProducts]: Tenant ID retrieved: 61bae91b-2a4e-4eb8-8d98-0e159e68984f
🔍 DEBUG [ListProducts]: Calling service...

2026/01/03 21:07:47 [32m/Users/christianhandoko/Development/work/erp/backend/internal/service/product/product_service.go:257
[0m[33m[1.603ms] [34;1m[rows:1][0m SELECT count(*) FROM "products" WHERE company_id = '270b570e-ba46-4f06-a009-6f3c4a552bc9' AND tenant_id = '61bae91b-2a4e-4eb8-8d98-0e159e68984f'

2026/01/03 21:07:47 [32m/Users/christianhandoko/Development/work/erp/backend/internal/service/product/product_service.go:271
[0m[33m[0.934ms] [34;1m[rows:2][0m SELECT * FROM "product_units" WHERE "product_units"."product_id" IN ('d39e3c06-a959-46a2-834a-b19aedbafff5','a2b01ed6-5035-4d48-8ee3-50edc35eb8a9','ff6dc608-7262-4896-961d-4d684916b5d8') AND is_active = true

2026/01/03 21:07:47 [32m
[0m[33m[1.216ms] [34;1m[rows:1][0m SELECT * FROM "warehouses" WHERE "warehouses"."id" = '528e1120-1585-4203-b471-fd5e10cfda9b' AND is_active = true AND tenant_id = '61bae91b-2a4e-4eb8-8d98-0e159e68984f'

2026/01/03 21:07:47 [32m/Users/christianhandoko/Development/work/erp/backend/internal/service/product/product_service.go:271
[0m[33m[2.204ms] [34;1m[rows:2][0m SELECT * FROM "warehouse_stocks" WHERE "warehouse_stocks"."product_id" IN ('d39e3c06-a959-46a2-834a-b19aedbafff5','a2b01ed6-5035-4d48-8ee3-50edc35eb8a9','ff6dc608-7262-4896-961d-4d684916b5d8')

2026/01/03 21:07:47 [32m/Users/christianhandoko/Development/work/erp/backend/internal/service/product/product_service.go:271
[0m[33m[3.965ms] [34;1m[rows:3][0m SELECT * FROM "products" WHERE company_id = '270b570e-ba46-4f06-a009-6f3c4a552bc9' AND tenant_id = '61bae91b-2a4e-4eb8-8d98-0e159e68984f' ORDER BY code asc LIMIT 20
✅ DEBUG [ListProducts]: Service returned 3 products (total: 3)
[GIN] 2026/01/03 - 21:07:47 | 200 |   15.303288ms |             ::1 | GET      "/api/v1/products?page=1&page_size=20&sort_by=code&sort_order=asc"
[GIN] 2026/01/03 - 21:08:04 | 204 |      14.399µs |             ::1 | OPTIONS  "/api/v1/products/a2b01ed6-5035-4d48-8ee3-50edc35eb8a9"

2026/01/03 21:08:04 [32m/Users/christianhandoko/Development/work/erp/backend/internal/middleware/subscription.go:45
[0m[33m[0.767ms] [34;1m[rows:1][0m SELECT * FROM "tenants" WHERE id = '61bae91b-2a4e-4eb8-8d98-0e159e68984f' ORDER BY "tenants"."id" LIMIT 1

2026/01/03 21:08:04 [32m/Users/christianhandoko/Development/work/erp/backend/internal/service/company/multi_company_service.go:291
[0m[33m[0.558ms] [34;1m[rows:1][0m SELECT * FROM "companies" WHERE id = '270b570e-ba46-4f06-a009-6f3c4a552bc9' ORDER BY "companies"."id" LIMIT 1

2026/01/03 21:08:04 [32m/Users/christianhandoko/Development/work/erp/backend/internal/service/company/multi_company_service.go:303
[0m[33m[1.349ms] [34;1m[rows:1][0m SELECT * FROM "user_tenants" WHERE (user_id = '46c7b8ff-c6f4-499d-b1d0-f58a749302b3' AND tenant_id = '61bae91b-2a4e-4eb8-8d98-0e159e68984f' AND is_active = true) AND role IN ('OWNER','TENANT_ADMIN') ORDER BY "user_tenants"."id" LIMIT 1
✅ DEBUG [CompanyContextMiddleware]: CheckUserCompanyAccess succeeded - HasAccess: true, Role: OWNER, Tier: 1
🔧 DEBUG [CompanyContextMiddleware]: Setting company context...
  ✅ SetCompanyID done
  ✅ SetTenantID done
  ✅ SetUserID done
  🔍 About to convert Role: OWNER (type: models.UserRole)
  ✅ Role converted to string: OWNER
  ✅ SetUserRole done
  ✅ SetCompanyAccess done
✅ DEBUG [CompanyContextMiddleware]: All context set successfully, calling c.Next()
🔍 DEBUG [UpdateProduct]: Request received: Name=0xc000412ab0, BaseUnit=0xc000412ac0

2026/01/03 21:08:04 [32m/Users/christianhandoko/Development/work/erp/backend/internal/service/product/product_service.go:194
[0m[33m[1.654ms] [34;1m[rows:0][0m SELECT * FROM "product_suppliers" WHERE "product_suppliers"."product_id" = 'a2b01ed6-5035-4d48-8ee3-50edc35eb8a9'

2026/01/03 21:08:04 [32m/Users/christianhandoko/Development/work/erp/backend/internal/service/product/product_service.go:194
[0m[33m[0.960ms] [34;1m[rows:1][0m SELECT * FROM "product_units" WHERE "product_units"."product_id" = 'a2b01ed6-5035-4d48-8ee3-50edc35eb8a9' AND is_active = true

2026/01/03 21:08:04 [32m
[0m[33m[0.195ms] [34;1m[rows:1][0m SELECT * FROM "warehouses" WHERE "warehouses"."id" = '528e1120-1585-4203-b471-fd5e10cfda9b' AND is_active = true AND tenant_id = '61bae91b-2a4e-4eb8-8d98-0e159e68984f'

2026/01/03 21:08:04 [32m/Users/christianhandoko/Development/work/erp/backend/internal/service/product/product_service.go:194
[0m[33m[0.835ms] [34;1m[rows:1][0m SELECT * FROM "warehouse_stocks" WHERE "warehouse_stocks"."product_id" = 'a2b01ed6-5035-4d48-8ee3-50edc35eb8a9'

2026/01/03 21:08:04 [32m/Users/christianhandoko/Development/work/erp/backend/internal/service/product/product_service.go:194
[0m[33m[4.675ms] [34;1m[rows:1][0m SELECT * FROM "products" WHERE (company_id = '270b570e-ba46-4f06-a009-6f3c4a552bc9' AND id = 'a2b01ed6-5035-4d48-8ee3-50edc35eb8a9') AND tenant_id = '61bae91b-2a4e-4eb8-8d98-0e159e68984f' ORDER BY "products"."id" LIMIT 1

2026/01/03 21:08:04 [32m/Users/christianhandoko/Development/work/erp/backend/internal/service/product/product_service.go:194
[0m[33m[0.347ms] [34;1m[rows:0][0m SELECT * FROM "product_suppliers" WHERE "product_suppliers"."product_id" = 'a2b01ed6-5035-4d48-8ee3-50edc35eb8a9'

2026/01/03 21:08:04 [32m/Users/christianhandoko/Development/work/erp/backend/internal/service/product/product_service.go:194
[0m[33m[0.246ms] [34;1m[rows:1][0m SELECT * FROM "product_units" WHERE "product_units"."product_id" = 'a2b01ed6-5035-4d48-8ee3-50edc35eb8a9' AND is_active = true

2026/01/03 21:08:04 [32m
[0m[33m[0.211ms] [34;1m[rows:1][0m SELECT * FROM "warehouses" WHERE "warehouses"."id" = '528e1120-1585-4203-b471-fd5e10cfda9b' AND is_active = true AND tenant_id = '61bae91b-2a4e-4eb8-8d98-0e159e68984f'

2026/01/03 21:08:04 [32m/Users/christianhandoko/Development/work/erp/backend/internal/service/product/product_service.go:194
[0m[33m[0.621ms] [34;1m[rows:1][0m SELECT * FROM "warehouse_stocks" WHERE "warehouse_stocks"."product_id" = 'a2b01ed6-5035-4d48-8ee3-50edc35eb8a9'

2026/01/03 21:08:04 [32m/Users/christianhandoko/Development/work/erp/backend/internal/service/product/product_service.go:194
[0m[33m[2.020ms] [34;1m[rows:1][0m SELECT * FROM "products" WHERE (company_id = '270b570e-ba46-4f06-a009-6f3c4a552bc9' AND id = 'a2b01ed6-5035-4d48-8ee3-50edc35eb8a9') AND tenant_id = '61bae91b-2a4e-4eb8-8d98-0e159e68984f' ORDER BY "products"."id" LIMIT 1
✅ DEBUG [UpdateProduct]: BaseUnit update requested: KARTON

2026/01/03 21:08:04 [32m/Users/christianhandoko/Development/work/erp/backend/internal/service/product/product_service.go:358
[0m[33m[3.148ms] [34;1m[rows:1][0m UPDATE "products" SET "base_cost"='200000',"base_price"='250000',"base_unit"='KARTON',"category"='Beras',"is_active"=true,"is_batch_tracked"=false,"is_perishable"=false,"name"='Beras Premium 25kg',"updated_at"='2026-01-03 14:08:04.244' WHERE (id = 'a2b01ed6-5035-4d48-8ee3-50edc35eb8a9' AND company_id = '270b570e-ba46-4f06-a009-6f3c4a552bc9') AND tenant_id = '61bae91b-2a4e-4eb8-8d98-0e159e68984f'

2026/01/03 21:08:04 [32m/Users/christianhandoko/Development/work/erp/backend/internal/service/product/product_service.go:194
[0m[33m[0.186ms] [34;1m[rows:0][0m SELECT * FROM "product_suppliers" WHERE "product_suppliers"."product_id" = 'a2b01ed6-5035-4d48-8ee3-50edc35eb8a9'

2026/01/03 21:08:04 [32m/Users/christianhandoko/Development/work/erp/backend/internal/service/product/product_service.go:194
[0m[33m[0.329ms] [34;1m[rows:1][0m SELECT * FROM "product_units" WHERE "product_units"."product_id" = 'a2b01ed6-5035-4d48-8ee3-50edc35eb8a9' AND is_active = true

2026/01/03 21:08:04 [32m
[0m[33m[0.299ms] [34;1m[rows:1][0m SELECT * FROM "warehouses" WHERE "warehouses"."id" = '528e1120-1585-4203-b471-fd5e10cfda9b' AND is_active = true AND tenant_id = '61bae91b-2a4e-4eb8-8d98-0e159e68984f'

2026/01/03 21:08:04 [32m/Users/christianhandoko/Development/work/erp/backend/internal/service/product/product_service.go:194
[0m[33m[0.649ms] [34;1m[rows:1][0m SELECT * FROM "warehouse_stocks" WHERE "warehouse_stocks"."product_id" = 'a2b01ed6-5035-4d48-8ee3-50edc35eb8a9'

2026/01/03 21:08:04 [32m/Users/christianhandoko/Development/work/erp/backend/internal/service/product/product_service.go:194
[0m[33m[1.981ms] [34;1m[rows:1][0m SELECT * FROM "products" WHERE (company_id = '270b570e-ba46-4f06-a009-6f3c4a552bc9' AND id = 'a2b01ed6-5035-4d48-8ee3-50edc35eb8a9') AND tenant_id = '61bae91b-2a4e-4eb8-8d98-0e159e68984f' ORDER BY "products"."id" LIMIT 1
[GIN] 2026/01/03 - 21:08:04 | 200 |   15.452722ms |             ::1 | PUT      "/api/v1/products/a2b01ed6-5035-4d48-8ee3-50edc35eb8a9"

2026/01/03 21:08:04 [32m/Users/christianhandoko/Development/work/erp/backend/internal/middleware/subscription.go:45
[0m[33m[0.602ms] [34;1m[rows:1][0m SELECT * FROM "tenants" WHERE id = '61bae91b-2a4e-4eb8-8d98-0e159e68984f' ORDER BY "tenants"."id" LIMIT 1

2026/01/03 21:08:04 [32m/Users/christianhandoko/Development/work/erp/backend/internal/service/company/multi_company_service.go:291
[0m[33m[0.409ms] [34;1m[rows:1][0m SELECT * FROM "companies" WHERE id = '270b570e-ba46-4f06-a009-6f3c4a552bc9' ORDER BY "companies"."id" LIMIT 1

2026/01/03 21:08:04 [32m/Users/christianhandoko/Development/work/erp/backend/internal/service/company/multi_company_service.go:303
[0m[33m[0.494ms] [34;1m[rows:1][0m SELECT * FROM "user_tenants" WHERE (user_id = '46c7b8ff-c6f4-499d-b1d0-f58a749302b3' AND tenant_id = '61bae91b-2a4e-4eb8-8d98-0e159e68984f' AND is_active = true) AND role IN ('OWNER','TENANT_ADMIN') ORDER BY "user_tenants"."id" LIMIT 1
✅ DEBUG [CompanyContextMiddleware]: CheckUserCompanyAccess succeeded - HasAccess: true, Role: OWNER, Tier: 1
🔧 DEBUG [CompanyContextMiddleware]: Setting company context...
  ✅ SetCompanyID done
  ✅ SetTenantID done
  ✅ SetUserID done
  🔍 About to convert Role: OWNER (type: models.UserRole)
  ✅ Role converted to string: OWNER
  ✅ SetUserRole done
  ✅ SetCompanyAccess done
✅ DEBUG [CompanyContextMiddleware]: All context set successfully, calling c.Next()
🔍 DEBUG [ListProducts]: Handler started
✅ DEBUG [ListProducts]: Company ID retrieved: 270b570e-ba46-4f06-a009-6f3c4a552bc9
🔍 DEBUG [ListProducts]: About to bind query params: page=1&page_size=20&sort_by=code&sort_order=asc
✅ DEBUG [ListProducts]: Query params bound - Page: 1, Limit: 20, SortBy: code, SortOrder: asc
✅ DEBUG [ListProducts]: Tenant ID retrieved: 61bae91b-2a4e-4eb8-8d98-0e159e68984f
🔍 DEBUG [ListProducts]: Calling service...

2026/01/03 21:08:04 [32m/Users/christianhandoko/Development/work/erp/backend/internal/service/product/product_service.go:257
[0m[33m[0.554ms] [34;1m[rows:1][0m SELECT count(*) FROM "products" WHERE company_id = '270b570e-ba46-4f06-a009-6f3c4a552bc9' AND tenant_id = '61bae91b-2a4e-4eb8-8d98-0e159e68984f'

2026/01/03 21:08:04 [32m/Users/christianhandoko/Development/work/erp/backend/internal/service/product/product_service.go:271
[0m[33m[0.296ms] [34;1m[rows:2][0m SELECT * FROM "product_units" WHERE "product_units"."product_id" IN ('d39e3c06-a959-46a2-834a-b19aedbafff5','a2b01ed6-5035-4d48-8ee3-50edc35eb8a9','ff6dc608-7262-4896-961d-4d684916b5d8') AND is_active = true

2026/01/03 21:08:04 [32m
[0m[33m[0.316ms] [34;1m[rows:1][0m SELECT * FROM "warehouses" WHERE "warehouses"."id" = '528e1120-1585-4203-b471-fd5e10cfda9b' AND is_active = true AND tenant_id = '61bae91b-2a4e-4eb8-8d98-0e159e68984f'

2026/01/03 21:08:04 [32m/Users/christianhandoko/Development/work/erp/backend/internal/service/product/product_service.go:271
[0m[33m[17.314ms] [34;1m[rows:2][0m SELECT * FROM "warehouse_stocks" WHERE "warehouse_stocks"."product_id" IN ('d39e3c06-a959-46a2-834a-b19aedbafff5','a2b01ed6-5035-4d48-8ee3-50edc35eb8a9','ff6dc608-7262-4896-961d-4d684916b5d8')

2026/01/03 21:08:04 [32m/Users/christianhandoko/Development/work/erp/backend/internal/service/product/product_service.go:271
[0m[33m[18.157ms] [34;1m[rows:3][0m SELECT * FROM "products" WHERE company_id = '270b570e-ba46-4f06-a009-6f3c4a552bc9' AND tenant_id = '61bae91b-2a4e-4eb8-8d98-0e159e68984f' ORDER BY code asc LIMIT 20
✅ DEBUG [ListProducts]: Service returned 3 products (total: 3)
[GIN] 2026/01/03 - 21:08:04 | 200 |   20.964783ms |             ::1 | GET      "/api/v1/products?page=1&page_size=20&sort_by=code&sort_order=asc"
signal: killed
make: *** [run] Error 1
